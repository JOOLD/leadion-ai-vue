{
  "version": 3,
  "sources": ["../../@clerk/shared/src/error.ts", "../../@clerk/shared/dist/chunk-7ELT755Q.mjs", "../../@clerk/vue/dist", "../../@clerk/shared/src/versionSelector.ts", "../../@clerk/shared/src/proxy.ts", "../../@clerk/shared/src/constants.ts", "../../@clerk/shared/src/url.ts", "../../@clerk/shared/src/retry.ts", "../../@clerk/shared/src/loadScript.ts", "../../@clerk/shared/src/isomorphicAtob.ts", "../../@clerk/shared/src/keys.ts", "../../@clerk/shared/src/loadClerkJsScript.ts", "../../@clerk/shared/src/utils/runtimeEnvironment.ts", "../../@clerk/shared/src/deprecated.ts", "../../@clerk/shared/src/authorization.ts", "../../@clerk/shared/src/underscore.ts", "../../@clerk/shared/src/telemetry/throttler.ts", "../../@clerk/shared/src/telemetry/collector.ts", "../../@clerk/shared/src/telemetry/events/component-mounted.ts", "../../@clerk/shared/src/telemetry/events/method-called.ts", "../../@clerk/shared/src/telemetry/events/framework-metadata.ts", "../../@clerk/shared/src/organization.ts", "../../@clerk/shared/src/utils/allSettled.ts", "../../@clerk/shared/src/utils/logErrorInDevMode.ts", "../../@clerk/shared/src/utils/fastDeepMerge.ts", "../../@clerk/shared/src/browser.ts", "../../@clerk/shared/src/deriveState.ts", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist/\u0000/plugin-vue/export-helper", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist/home/runner/work/javascript/javascript/packages/vue/src/components/ui-components/OrganizationProfile/OrganizationProfile.vue", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist", "../../@clerk/vue/dist/home/runner/work/javascript/javascript/packages/vue/src/components/SignInButton.vue", "../../@clerk/vue/dist/home/runner/work/javascript/javascript/packages/vue/src/components/SignUpButton.vue", "../../@clerk/vue/dist/home/runner/work/javascript/javascript/packages/vue/src/components/SignOutButton.vue", "../../@clerk/vue/dist/home/runner/work/javascript/javascript/packages/vue/src/components/SignInWithMetamaskButton.vue", "../../@clerk/vue/dist"],
  "sourcesContent": ["import type {\n  ClerkAPIError,\n  ClerkAPIErrorJSON,\n  ClerkAPIResponseError as ClerkAPIResponseErrorInterface,\n} from '@clerk/types';\n\nexport function isUnauthorizedError(e: any): boolean {\n  const status = e?.status;\n  const code = e?.errors?.[0]?.code;\n  return code === 'authentication_invalid' && status === 401;\n}\n\nexport function isCaptchaError(e: ClerkAPIResponseError): boolean {\n  return ['captcha_invalid', 'captcha_not_enabled', 'captcha_missing_token'].includes(e.errors[0].code);\n}\n\nexport function is4xxError(e: any): boolean {\n  const status = e?.status;\n  return !!status && status >= 400 && status < 500;\n}\n\nexport function isNetworkError(e: any): boolean {\n  // TODO: revise during error handling epic\n  const message = (`${e.message}${e.name}` || '').toLowerCase().replace(/\\s+/g, '');\n  return message.includes('networkerror');\n}\n\ninterface ClerkAPIResponseOptions {\n  data: ClerkAPIErrorJSON[];\n  status: number;\n  clerkTraceId?: string;\n  retryAfter?: number;\n}\n\n// For a comprehensive Metamask error list, please see\n// https://docs.metamask.io/guide/ethereum-provider.html#errors\nexport interface MetamaskError extends Error {\n  code: 4001 | 32602 | 32603;\n  message: string;\n  data?: unknown;\n}\n\nexport function isKnownError(error: any): error is ClerkAPIResponseError | ClerkRuntimeError | MetamaskError {\n  return isClerkAPIResponseError(error) || isMetamaskError(error) || isClerkRuntimeError(error);\n}\n\nexport function isClerkAPIResponseError(err: any): err is ClerkAPIResponseError {\n  return 'clerkError' in err;\n}\n\n/**\n * Checks if the provided error object is an instance of ClerkRuntimeError.\n *\n * @param err - The error object to check.\n * @returns True if the error is a ClerkRuntimeError, false otherwise.\n *\n * @example\n * const error = new ClerkRuntimeError('An error occurred');\n * if (isClerkRuntimeError(error)) {\n *   // Handle ClerkRuntimeError\n *   console.error('ClerkRuntimeError:', error.message);\n * } else {\n *   // Handle other errors\n *   console.error('Other error:', error.message);\n * }\n */\nexport function isClerkRuntimeError(err: any): err is ClerkRuntimeError {\n  return 'clerkRuntimeError' in err;\n}\n\nexport function isReverificationCancelledError(err: any) {\n  return isClerkRuntimeError(err) && err.code === 'reverification_cancelled';\n}\n\nexport function isMetamaskError(err: any): err is MetamaskError {\n  return 'code' in err && [4001, 32602, 32603].includes(err.code) && 'message' in err;\n}\n\nexport function isUserLockedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'user_locked';\n}\n\nexport function isPasswordPwnedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'form_password_pwned';\n}\n\nexport function parseErrors(data: ClerkAPIErrorJSON[] = []): ClerkAPIError[] {\n  return data.length > 0 ? data.map(parseError) : [];\n}\n\nexport function parseError(error: ClerkAPIErrorJSON): ClerkAPIError {\n  return {\n    code: error.code,\n    message: error.message,\n    longMessage: error.long_message,\n    meta: {\n      paramName: error?.meta?.param_name,\n      sessionId: error?.meta?.session_id,\n      emailAddresses: error?.meta?.email_addresses,\n      identifiers: error?.meta?.identifiers,\n      zxcvbn: error?.meta?.zxcvbn,\n      plan: error?.meta?.plan,\n    },\n  };\n}\n\nexport function errorToJSON(error: ClerkAPIError | null): ClerkAPIErrorJSON {\n  return {\n    code: error?.code || '',\n    message: error?.message || '',\n    long_message: error?.longMessage,\n    meta: {\n      param_name: error?.meta?.paramName,\n      session_id: error?.meta?.sessionId,\n      email_addresses: error?.meta?.emailAddresses,\n      identifiers: error?.meta?.identifiers,\n      zxcvbn: error?.meta?.zxcvbn,\n      plan: error?.meta?.plan,\n    },\n  };\n}\n\nexport class ClerkAPIResponseError extends Error implements ClerkAPIResponseErrorInterface {\n  clerkError: true;\n\n  status: number;\n  message: string;\n  clerkTraceId?: string;\n  retryAfter?: number;\n\n  errors: ClerkAPIError[];\n\n  constructor(message: string, { data, status, clerkTraceId, retryAfter }: ClerkAPIResponseOptions) {\n    super(message);\n\n    Object.setPrototypeOf(this, ClerkAPIResponseError.prototype);\n\n    this.status = status;\n    this.message = message;\n    this.clerkTraceId = clerkTraceId;\n    this.retryAfter = retryAfter;\n    this.clerkError = true;\n    this.errors = parseErrors(data);\n  }\n\n  public toString = () => {\n    let message = `[${this.name}]\\nMessage:${this.message}\\nStatus:${this.status}\\nSerialized errors: ${this.errors.map(\n      e => JSON.stringify(e),\n    )}`;\n\n    if (this.clerkTraceId) {\n      message += `\\nClerk Trace ID: ${this.clerkTraceId}`;\n    }\n\n    return message;\n  };\n}\n\n/**\n * Custom error class for representing Clerk runtime errors.\n *\n * @class ClerkRuntimeError\n *\n * @example\n *   throw new ClerkRuntimeError('An error occurred', { code: 'password_invalid' });\n */\nexport class ClerkRuntimeError extends Error {\n  clerkRuntimeError: true;\n\n  /**\n   * The error message.\n   *\n   * @type {string}\n   */\n  message: string;\n\n  /**\n   * A unique code identifying the error, can be used for localization.\n   *\n   * @type {string}\n   */\n  code: string;\n\n  constructor(message: string, { code }: { code: string }) {\n    const prefix = 'ðŸ”’ Clerk:';\n    const regex = new RegExp(prefix.replace(' ', '\\\\s*'), 'i');\n    const sanitized = message.replace(regex, '');\n    const _message = `${prefix} ${sanitized.trim()}\\n\\n(code=\"${code}\")\\n`;\n    super(_message);\n\n    Object.setPrototypeOf(this, ClerkRuntimeError.prototype);\n\n    this.code = code;\n    this.message = _message;\n    this.clerkRuntimeError = true;\n    this.name = 'ClerkRuntimeError';\n  }\n\n  /**\n   * Returns a string representation of the error.\n   *\n   * @returns A formatted string with the error name and message.\n   */\n  public toString = () => {\n    return `[${this.name}]\\nMessage:${this.message}`;\n  };\n}\n\nexport class EmailLinkError extends Error {\n  code: string;\n\n  constructor(code: string) {\n    super(code);\n    this.code = code;\n    this.name = 'EmailLinkError' as const;\n    Object.setPrototypeOf(this, EmailLinkError.prototype);\n  }\n}\n\nexport function isEmailLinkError(err: Error): err is EmailLinkError {\n  return err.name === 'EmailLinkError';\n}\n\n/**\n * @deprecated Use `EmailLinkErrorCodeStatus` instead.\n *\n * @hidden\n */\nexport const EmailLinkErrorCode = {\n  Expired: 'expired',\n  Failed: 'failed',\n  ClientMismatch: 'client_mismatch',\n};\n\nexport const EmailLinkErrorCodeStatus = {\n  Expired: 'expired',\n  Failed: 'failed',\n  ClientMismatch: 'client_mismatch',\n} as const;\n\nconst DefaultMessages = Object.freeze({\n  InvalidProxyUrlErrorMessage: `The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})`,\n  InvalidPublishableKeyErrorMessage: `The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})`,\n  MissingPublishableKeyErrorMessage: `Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,\n  MissingSecretKeyErrorMessage: `Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,\n  MissingClerkProvider: `{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider`,\n});\n\ntype MessageKeys = keyof typeof DefaultMessages;\n\ntype Messages = Record<MessageKeys, string>;\n\ntype CustomMessages = Partial<Messages>;\n\nexport type ErrorThrowerOptions = {\n  packageName: string;\n  customMessages?: CustomMessages;\n};\n\nexport interface ErrorThrower {\n  setPackageName(options: ErrorThrowerOptions): ErrorThrower;\n\n  setMessages(options: ErrorThrowerOptions): ErrorThrower;\n\n  throwInvalidPublishableKeyError(params: { key?: string }): never;\n\n  throwInvalidProxyUrl(params: { url?: string }): never;\n\n  throwMissingPublishableKeyError(): never;\n\n  throwMissingSecretKeyError(): never;\n\n  throwMissingClerkProviderError(params: { source?: string }): never;\n\n  throw(message: string): never;\n}\n\nexport function buildErrorThrower({ packageName, customMessages }: ErrorThrowerOptions): ErrorThrower {\n  let pkg = packageName;\n\n  function buildMessage(rawMessage: string, replacements?: Record<string, string | number>) {\n    if (!replacements) {\n      return `${pkg}: ${rawMessage}`;\n    }\n\n    let msg = rawMessage;\n    const matches = rawMessage.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);\n\n    for (const match of matches) {\n      const replacement = (replacements[match[1]] || '').toString();\n      msg = msg.replace(`{{${match[1]}}}`, replacement);\n    }\n\n    return `${pkg}: ${msg}`;\n  }\n\n  const messages = {\n    ...DefaultMessages,\n    ...customMessages,\n  };\n\n  return {\n    setPackageName({ packageName }: ErrorThrowerOptions): ErrorThrower {\n      if (typeof packageName === 'string') {\n        pkg = packageName;\n      }\n      return this;\n    },\n\n    setMessages({ customMessages }: ErrorThrowerOptions): ErrorThrower {\n      Object.assign(messages, customMessages || {});\n      return this;\n    },\n\n    throwInvalidPublishableKeyError(params: { key?: string }): never {\n      throw new Error(buildMessage(messages.InvalidPublishableKeyErrorMessage, params));\n    },\n\n    throwInvalidProxyUrl(params: { url?: string }): never {\n      throw new Error(buildMessage(messages.InvalidProxyUrlErrorMessage, params));\n    },\n\n    throwMissingPublishableKeyError(): never {\n      throw new Error(buildMessage(messages.MissingPublishableKeyErrorMessage));\n    },\n\n    throwMissingSecretKeyError(): never {\n      throw new Error(buildMessage(messages.MissingSecretKeyErrorMessage));\n    },\n\n    throwMissingClerkProviderError(params: { source?: string }): never {\n      throw new Error(buildMessage(messages.MissingClerkProvider, params));\n    },\n\n    throw(message: string): never {\n      throw new Error(buildMessage(message));\n    },\n  };\n}\n\ntype ClerkWebAuthnErrorCode =\n  // Generic\n  | 'passkey_not_supported'\n  | 'passkey_pa_not_supported'\n  | 'passkey_invalid_rpID_or_domain'\n  | 'passkey_already_exists'\n  | 'passkey_operation_aborted'\n  // Retrieval\n  | 'passkey_retrieval_cancelled'\n  | 'passkey_retrieval_failed'\n  // Registration\n  | 'passkey_registration_cancelled'\n  | 'passkey_registration_failed';\n\nexport class ClerkWebAuthnError extends ClerkRuntimeError {\n  /**\n   * A unique code identifying the error, can be used for localization.\n   */\n  code: ClerkWebAuthnErrorCode;\n\n  constructor(message: string, { code }: { code: ClerkWebAuthnErrorCode }) {\n    super(message, { code });\n    this.code = code;\n  }\n}\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, \"default\"), secondTarget && __copyProps(secondTarget, mod, \"default\"));\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\nexport {\n  __export,\n  __reExport,\n  __privateGet,\n  __privateAdd,\n  __privateSet,\n  __privateMethod\n};\n//# sourceMappingURL=chunk-7ELT755Q.mjs.map", "import type { ErrorThrowerOptions } from '@clerk/shared/error';\nimport { buildErrorThrower } from '@clerk/shared/error';\n\nconst errorThrower = buildErrorThrower({ packageName: '@clerk/vue' });\n\nexport { errorThrower };\n\n/**\n * Overrides options of the internal errorThrower (eg setting packageName prefix).\n *\n * @internal\n */\nexport function setErrorThrowerOptions(options: ErrorThrowerOptions) {\n  errorThrower.setMessages(options).setPackageName(options);\n}\n", "/**\n * This version selector is a bit complicated, so here is the flow:\n * 1. Use the clerkJSVersion prop on the provider\n * 2. Use the exact `@clerk/clerk-js` version if it is a `@snapshot` prerelease\n * 3. Use the prerelease tag of `@clerk/clerk-js` or the packageVersion provided\n * 4. Fallback to the major version of `@clerk/clerk-js` or the packageVersion provided\n * @param clerkJSVersion - The optional clerkJSVersion prop on the provider\n * @param packageVersion - The version of `@clerk/clerk-js` that will be used if an explicit version is not provided\n * @returns The npm tag, version or major version to use\n */\nexport const versionSelector = (clerkJSVersion: string | undefined, packageVersion = JS_PACKAGE_VERSION) => {\n  if (clerkJSVersion) {\n    return clerkJSVersion;\n  }\n\n  const prereleaseTag = getPrereleaseTag(packageVersion);\n  if (prereleaseTag) {\n    if (prereleaseTag === 'snapshot') {\n      return JS_PACKAGE_VERSION;\n    }\n\n    return prereleaseTag;\n  }\n\n  return getMajorVersion(packageVersion);\n};\n\nconst getPrereleaseTag = (packageVersion: string) =>\n  packageVersion\n    .trim()\n    .replace(/^v/, '')\n    .match(/-(.+?)(\\.|$)/)?.[1];\n\nexport const getMajorVersion = (packageVersion: string) => packageVersion.trim().replace(/^v/, '').split('.')[0];\n", "export function isValidProxyUrl(key: string | undefined) {\n  if (!key) {\n    return true;\n  }\n\n  return isHttpOrHttps(key) || isProxyUrlRelative(key);\n}\n\nexport function isHttpOrHttps(key: string | undefined) {\n  return /^http(s)?:\\/\\//.test(key || '');\n}\n\nexport function isProxyUrlRelative(key: string) {\n  return key.startsWith('/');\n}\n\nexport function proxyUrlToAbsoluteURL(url: string | undefined): string {\n  if (!url) {\n    return '';\n  }\n  return isProxyUrlRelative(url) ? new URL(url, window.location.origin).toString() : url;\n}\n", "export const LEGACY_DEV_INSTANCE_SUFFIXES = ['.lcl.dev', '.lclstage.dev', '.lclclerk.com'];\nexport const CURRENT_DEV_INSTANCE_SUFFIXES = ['.accounts.dev', '.accountsstage.dev', '.accounts.lclclerk.com'];\nexport const DEV_OR_STAGING_SUFFIXES = [\n  '.lcl.dev',\n  '.stg.dev',\n  '.lclstage.dev',\n  '.stgstage.dev',\n  '.dev.lclclerk.com',\n  '.stg.lclclerk.com',\n  '.accounts.lclclerk.com',\n  'accountsstage.dev',\n  'accounts.dev',\n];\nexport const LOCAL_ENV_SUFFIXES = ['.lcl.dev', 'lclstage.dev', '.lclclerk.com', '.accounts.lclclerk.com'];\nexport const STAGING_ENV_SUFFIXES = ['.accountsstage.dev'];\nexport const LOCAL_API_URL = 'https://api.lclclerk.com';\nexport const STAGING_API_URL = 'https://api.clerkstage.dev';\nexport const PROD_API_URL = 'https://api.clerk.com';\n\n/**\n * Returns the URL for a static image\n * using the new img.clerk.com service\n */\nexport function iconImageUrl(id: string, format: 'svg' | 'jpeg' = 'svg'): string {\n  return `https://img.clerk.com/static/${id}.${format}`;\n}\n", "import { CURRENT_DEV_INSTANCE_SUFFIXES, LEGACY_DEV_INSTANCE_SUFFIXES } from './constants';\nimport { isStaging } from './utils/instance';\n\nexport function parseSearchParams(queryString = ''): URLSearchParams {\n  if (queryString.startsWith('?')) {\n    queryString = queryString.slice(1);\n  }\n  return new URLSearchParams(queryString);\n}\n\nexport function stripScheme(url = ''): string {\n  return (url || '').replace(/^.+:\\/\\//, '');\n}\n\nexport function addClerkPrefix(str: string | undefined) {\n  if (!str) {\n    return '';\n  }\n  let regex;\n  if (str.match(/^(clerk\\.)+\\w*$/)) {\n    regex = /(clerk\\.)*(?=clerk\\.)/;\n  } else if (str.match(/\\.clerk.accounts/)) {\n    return str;\n  } else {\n    regex = /^(clerk\\.)*/gi;\n  }\n\n  const stripped = str.replace(regex, '');\n  return `clerk.${stripped}`;\n}\n\n/**\n *\n * Retrieve the clerk-js major tag using the major version from the pkgVersion\n * param or use the frontendApi to determine if the canary tag should be used.\n * The default tag is `latest`.\n */\nexport const getClerkJsMajorVersionOrTag = (frontendApi: string, version?: string) => {\n  if (!version && isStaging(frontendApi)) {\n    return 'canary';\n  }\n\n  if (!version) {\n    return 'latest';\n  }\n\n  return version.split('.')[0] || 'latest';\n};\n\n/**\n *\n * Retrieve the clerk-js script url from the frontendApi and the major tag\n * using the {@link getClerkJsMajorVersionOrTag} or a provided clerkJSVersion tag.\n */\nexport const getScriptUrl = (frontendApi: string, { clerkJSVersion }: { clerkJSVersion?: string }) => {\n  const noSchemeFrontendApi = frontendApi.replace(/http(s)?:\\/\\//, '');\n  const major = getClerkJsMajorVersionOrTag(frontendApi, clerkJSVersion);\n  return `https://${noSchemeFrontendApi}/npm/@clerk/clerk-js@${clerkJSVersion || major}/dist/clerk.browser.js`;\n};\n\n// Returns true for hosts such as:\n// * accounts.foo.bar-13.lcl.dev\n// * accounts.foo.bar-13.lclstage.dev\n// * accounts.foo.bar-13.dev.lclclerk.com\nexport function isLegacyDevAccountPortalOrigin(host: string): boolean {\n  return LEGACY_DEV_INSTANCE_SUFFIXES.some(legacyDevSuffix => {\n    return host.startsWith('accounts.') && host.endsWith(legacyDevSuffix);\n  });\n}\n\n// Returns true for hosts such as:\n// * foo-bar-13.accounts.dev\n// * foo-bar-13.accountsstage.dev\n// * foo-bar-13.accounts.lclclerk.com\n// But false for:\n// * foo-bar-13.clerk.accounts.lclclerk.com\nexport function isCurrentDevAccountPortalOrigin(host: string): boolean {\n  return CURRENT_DEV_INSTANCE_SUFFIXES.some(currentDevSuffix => {\n    return host.endsWith(currentDevSuffix) && !host.endsWith('.clerk' + currentDevSuffix);\n  });\n}\n\n/* Functions below are taken from https://github.com/unjs/ufo/blob/main/src/utils.ts. LICENSE: MIT */\n\nconst TRAILING_SLASH_RE = /\\/$|\\/\\?|\\/#/;\n\nexport function hasTrailingSlash(input = '', respectQueryAndFragment?: boolean): boolean {\n  if (!respectQueryAndFragment) {\n    return input.endsWith('/');\n  }\n  return TRAILING_SLASH_RE.test(input);\n}\n\nexport function withTrailingSlash(input = '', respectQueryAndFragment?: boolean): string {\n  if (!respectQueryAndFragment) {\n    return input.endsWith('/') ? input : input + '/';\n  }\n  if (hasTrailingSlash(input, true)) {\n    return input || '/';\n  }\n  let path = input;\n  let fragment = '';\n  const fragmentIndex = input.indexOf('#');\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n    if (!path) {\n      return fragment;\n    }\n  }\n  const [s0, ...s] = path.split('?');\n  return s0 + '/' + (s.length > 0 ? `?${s.join('?')}` : '') + fragment;\n}\n\nexport function withoutTrailingSlash(input = '', respectQueryAndFragment?: boolean): string {\n  if (!respectQueryAndFragment) {\n    return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || '/';\n  }\n  if (!hasTrailingSlash(input, true)) {\n    return input || '/';\n  }\n  let path = input;\n  let fragment = '';\n  const fragmentIndex = input.indexOf('#');\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n  }\n  const [s0, ...s] = path.split('?');\n  return (s0.slice(0, -1) || '/') + (s.length > 0 ? `?${s.join('?')}` : '') + fragment;\n}\n\nexport function hasLeadingSlash(input = ''): boolean {\n  return input.startsWith('/');\n}\n\nexport function withoutLeadingSlash(input = ''): string {\n  return (hasLeadingSlash(input) ? input.slice(1) : input) || '/';\n}\n\nexport function withLeadingSlash(input = ''): string {\n  return hasLeadingSlash(input) ? input : '/' + input;\n}\n\nexport function cleanDoubleSlashes(input = ''): string {\n  return input\n    .split('://')\n    .map(string_ => string_.replace(/\\/{2,}/g, '/'))\n    .join('://');\n}\n\nexport function isNonEmptyURL(url: string) {\n  return url && url !== '/';\n}\n\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\n\nexport function joinURL(base: string, ...input: string[]): string {\n  let url = base || '';\n\n  for (const segment of input.filter(url => isNonEmptyURL(url))) {\n    if (url) {\n      // TODO: Handle .. when joining\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, '');\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n\n  return url;\n}\n\n/* Code below is taken from https://github.com/vercel/next.js/blob/fe7ff3f468d7651a92865350bfd0f16ceba27db5/packages/next/src/shared/lib/utils.ts. LICENSE: MIT */\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\nexport const isAbsoluteUrl = (url: string) => ABSOLUTE_URL_REGEX.test(url);\n", "type Milliseconds = number;\n\ntype RetryOptions = Partial<{\n  /**\n   * The initial delay before the first retry.\n   * @default 125\n   */\n  initialDelay: Milliseconds;\n  /**\n   * The maximum delay between retries.\n   * The delay between retries will never exceed this value.\n   * If set to 0, the delay will increase indefinitely.\n   * @default 0\n   */\n  maxDelayBetweenRetries: Milliseconds;\n  /**\n   * The multiplier for the exponential backoff.\n   * @default 2\n   */\n  factor: number;\n  /**\n   * A function to determine if the operation should be retried.\n   * The callback accepts the error that was thrown and the number of iterations.\n   * The iterations variable references the number of retries AFTER attempt\n   * that caused the error and starts at 1 (as in, this is the 1st, 2nd, nth retry).\n   * @default (error, iterations) => iterations < 5\n   */\n  shouldRetry: (error: unknown, iterations: number) => boolean;\n  /**\n   * Controls whether the helper should retry the operation immediately once before applying exponential backoff.\n   * The delay for the immediate retry is 100ms.\n   * @default false\n   */\n  retryImmediately: boolean;\n  /**\n   * If true, the intervals will be multiplied by a factor in the range of [1,2].\n   * @default true\n   */\n  jitter: boolean;\n}>;\n\nconst defaultOptions: Required<RetryOptions> = {\n  initialDelay: 125,\n  maxDelayBetweenRetries: 0,\n  factor: 2,\n  shouldRetry: (_: unknown, iteration: number) => iteration < 5,\n  retryImmediately: false,\n  jitter: true,\n};\n\nconst RETRY_IMMEDIATELY_DELAY = 100;\n\nconst sleep = async (ms: Milliseconds) => new Promise(s => setTimeout(s, ms));\n\nconst applyJitter = (delay: Milliseconds, jitter: boolean) => {\n  return jitter ? delay * (1 + Math.random()) : delay;\n};\n\nconst createExponentialDelayAsyncFn = (\n  opts: Required<Pick<RetryOptions, 'initialDelay' | 'maxDelayBetweenRetries' | 'factor' | 'jitter'>>,\n) => {\n  let timesCalled = 0;\n\n  const calculateDelayInMs = () => {\n    const constant = opts.initialDelay;\n    const base = opts.factor;\n    let delay = constant * Math.pow(base, timesCalled);\n    delay = applyJitter(delay, opts.jitter);\n    return Math.min(opts.maxDelayBetweenRetries || delay, delay);\n  };\n\n  return async (): Promise<void> => {\n    await sleep(calculateDelayInMs());\n    timesCalled++;\n  };\n};\n\n/**\n * Retries a callback until it succeeds or the shouldRetry function returns false.\n * See {@link RetryOptions} for the available options.\n */\nexport const retry = async <T>(callback: () => T | Promise<T>, options: RetryOptions = {}): Promise<T> => {\n  let iterations = 0;\n  const { shouldRetry, initialDelay, maxDelayBetweenRetries, factor, retryImmediately, jitter } = {\n    ...defaultOptions,\n    ...options,\n  };\n\n  const delay = createExponentialDelayAsyncFn({\n    initialDelay,\n    maxDelayBetweenRetries,\n    factor,\n    jitter,\n  });\n\n  while (true) {\n    try {\n      return await callback();\n    } catch (e) {\n      iterations++;\n      if (!shouldRetry(e, iterations)) {\n        throw e;\n      }\n      if (retryImmediately && iterations === 1) {\n        await sleep(applyJitter(RETRY_IMMEDIATELY_DELAY, jitter));\n      } else {\n        await delay();\n      }\n    }\n  }\n};\n", "import { retry } from './retry';\n\nconst NO_DOCUMENT_ERROR = 'loadScript cannot be called when document does not exist';\nconst NO_SRC_ERROR = 'loadScript cannot be called without a src';\n\ntype LoadScriptOptions = {\n  async?: boolean;\n  defer?: boolean;\n  crossOrigin?: 'anonymous' | 'use-credentials';\n  nonce?: string;\n  beforeLoad?: (script: HTMLScriptElement) => void;\n};\n\nexport async function loadScript(src = '', opts: LoadScriptOptions): Promise<HTMLScriptElement> {\n  const { async, defer, beforeLoad, crossOrigin, nonce } = opts || {};\n\n  const load = () => {\n    return new Promise<HTMLScriptElement>((resolve, reject) => {\n      if (!src) {\n        reject(new Error(NO_SRC_ERROR));\n      }\n\n      if (!document || !document.body) {\n        reject(NO_DOCUMENT_ERROR);\n      }\n\n      const script = document.createElement('script');\n\n      if (crossOrigin) script.setAttribute('crossorigin', crossOrigin);\n      script.async = async || false;\n      script.defer = defer || false;\n\n      script.addEventListener('load', () => {\n        script.remove();\n        resolve(script);\n      });\n\n      script.addEventListener('error', () => {\n        script.remove();\n        reject();\n      });\n\n      script.src = src;\n      script.nonce = nonce;\n      beforeLoad?.(script);\n      document.body.appendChild(script);\n    });\n  };\n\n  return retry(load, { shouldRetry: (_, iterations) => iterations <= 5 });\n}\n", "/**\n * A function that decodes a string of data which has been encoded using base-64 encoding.\n * Uses `atob` if available, otherwise uses `Buffer` from `global`. If neither are available, returns the data as-is.\n */\nexport const isomorphicAtob = (data: string) => {\n  if (typeof atob !== 'undefined' && typeof atob === 'function') {\n    return atob(data);\n  } else if (typeof global !== 'undefined' && global.Buffer) {\n    return new global.Buffer(data, 'base64').toString();\n  }\n  return data;\n};\n", "import type { PublishableKey } from '@clerk/types';\n\nimport { DEV_OR_STAGING_SUFFIXES, LEGACY_DEV_INSTANCE_SUFFIXES } from './constants';\nimport { isomorphicAtob } from './isomorphicAtob';\nimport { isomorphicBtoa } from './isomorphicBtoa';\n\n/**\n * Configuration options for parsing publishable keys.\n */\ntype ParsePublishableKeyOptions = {\n  /** Whether to throw an error if parsing fails */\n  fatal?: boolean;\n  /** Custom domain to use for satellite instances */\n  domain?: string;\n  /** Proxy URL to use instead of the decoded frontend API */\n  proxyUrl?: string;\n  /** Whether this is a satellite instance */\n  isSatellite?: boolean;\n};\n\n/** Prefix used for production publishable keys */\nconst PUBLISHABLE_KEY_LIVE_PREFIX = 'pk_live_';\n\n/** Prefix used for development publishable keys */\nconst PUBLISHABLE_KEY_TEST_PREFIX = 'pk_test_';\n\n/**\n * Regular expression that matches development frontend API keys.\n * Matches patterns like: foo-bar-13.clerk.accounts.dev.\n */\nconst PUBLISHABLE_FRONTEND_API_DEV_REGEX = /^(([a-z]+)-){2}([0-9]{1,2})\\.clerk\\.accounts([a-z.]*)(dev|com)$/i;\n\n/**\n * Converts a frontend API URL into a base64-encoded publishable key.\n *\n * @param frontendApi - The frontend API URL (e.g., 'clerk.example.com').\n * @returns A base64-encoded publishable key with appropriate prefix (pk_live_ or pk_test_).\n */\nexport function buildPublishableKey(frontendApi: string): string {\n  const isDevKey =\n    PUBLISHABLE_FRONTEND_API_DEV_REGEX.test(frontendApi) ||\n    (frontendApi.startsWith('clerk.') && LEGACY_DEV_INSTANCE_SUFFIXES.some(s => frontendApi.endsWith(s)));\n  const keyPrefix = isDevKey ? PUBLISHABLE_KEY_TEST_PREFIX : PUBLISHABLE_KEY_LIVE_PREFIX;\n  return `${keyPrefix}${isomorphicBtoa(`${frontendApi}$`)}`;\n}\n\n/**\n * Validates that a decoded publishable key has the correct format.\n * The decoded value should be a frontend API followed by exactly one '$' at the end.\n *\n * @param decoded - The decoded publishable key string to validate.\n * @returns `true` if the decoded key has valid format, `false` otherwise.\n */\nfunction isValidDecodedPublishableKey(decoded: string): boolean {\n  if (!decoded.endsWith('$')) {\n    return false;\n  }\n\n  const withoutTrailing = decoded.slice(0, -1);\n  if (withoutTrailing.includes('$')) {\n    return false;\n  }\n\n  return withoutTrailing.includes('.');\n}\n\nexport function parsePublishableKey(\n  key: string | undefined,\n  options: ParsePublishableKeyOptions & { fatal: true },\n): PublishableKey;\nexport function parsePublishableKey(\n  key: string | undefined,\n  options?: ParsePublishableKeyOptions,\n): PublishableKey | null;\n/**\n * Parses and validates a publishable key, extracting the frontend API and instance type.\n *\n * @param key - The publishable key to parse.\n * @param options - Configuration options for parsing.\n * @param options.fatal\n * @param options.domain\n * @param options.proxyUrl\n * @param options.isSatellite\n * @returns Parsed publishable key object with instanceType and frontendApi, or null if invalid.\n *\n * @throws {Error} When options.fatal is true and key is missing or invalid.\n */\nexport function parsePublishableKey(\n  key: string | undefined,\n  options: { fatal?: boolean; domain?: string; proxyUrl?: string; isSatellite?: boolean } = {},\n): PublishableKey | null {\n  key = key || '';\n\n  if (!key || !isPublishableKey(key)) {\n    if (options.fatal && !key) {\n      throw new Error(\n        'Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys',\n      );\n    }\n    if (options.fatal && !isPublishableKey(key)) {\n      throw new Error('Publishable key not valid.');\n    }\n    return null;\n  }\n\n  const instanceType = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) ? 'production' : 'development';\n\n  let decodedFrontendApi: string;\n  try {\n    decodedFrontendApi = isomorphicAtob(key.split('_')[2]);\n  } catch {\n    if (options.fatal) {\n      throw new Error('Publishable key not valid: Failed to decode key.');\n    }\n    return null;\n  }\n\n  if (!isValidDecodedPublishableKey(decodedFrontendApi)) {\n    if (options.fatal) {\n      throw new Error('Publishable key not valid: Decoded key has invalid format.');\n    }\n    return null;\n  }\n\n  let frontendApi = decodedFrontendApi.slice(0, -1);\n\n  if (options.proxyUrl) {\n    frontendApi = options.proxyUrl;\n  } else if (instanceType !== 'development' && options.domain && options.isSatellite) {\n    frontendApi = `clerk.${options.domain}`;\n  }\n\n  return {\n    instanceType,\n    frontendApi,\n  };\n}\n\n/**\n * Checks if the provided key is a valid publishable key.\n *\n * @param key - The key to be checked. Defaults to an empty string if not provided.\n * @returns `true` if 'key' is a valid publishable key, `false` otherwise.\n */\nexport function isPublishableKey(key: string = '') {\n  try {\n    const hasValidPrefix = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) || key.startsWith(PUBLISHABLE_KEY_TEST_PREFIX);\n\n    if (!hasValidPrefix) {\n      return false;\n    }\n\n    const parts = key.split('_');\n    if (parts.length !== 3) {\n      return false;\n    }\n\n    const encodedPart = parts[2];\n    if (!encodedPart) {\n      return false;\n    }\n\n    const decoded = isomorphicAtob(encodedPart);\n    return isValidDecodedPublishableKey(decoded);\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Creates a memoized cache for checking if URLs are development or staging environments.\n * Uses a Map to cache results for better performance on repeated checks.\n *\n * @returns An object with an isDevOrStagingUrl method that checks if a URL is dev/staging.\n */\nexport function createDevOrStagingUrlCache() {\n  const devOrStagingUrlCache = new Map<string, boolean>();\n\n  return {\n    /**\n     * Checks if a URL is a development or staging environment.\n     *\n     * @param url - The URL to check (string or URL object).\n     * @returns `true` if the URL is a development or staging environment, `false` otherwise.\n     */\n    isDevOrStagingUrl: (url: string | URL): boolean => {\n      if (!url) {\n        return false;\n      }\n\n      const hostname = typeof url === 'string' ? url : url.hostname;\n      let res = devOrStagingUrlCache.get(hostname);\n      if (res === undefined) {\n        res = DEV_OR_STAGING_SUFFIXES.some(s => hostname.endsWith(s));\n        devOrStagingUrlCache.set(hostname, res);\n      }\n      return res;\n    },\n  };\n}\n\n/**\n * Checks if a publishable key is for a development environment.\n * Supports both legacy format (test_) and new format (pk_test_).\n *\n * @param apiKey - The API key to check.\n * @returns `true` if the key is for development, `false` otherwise.\n */\nexport function isDevelopmentFromPublishableKey(apiKey: string): boolean {\n  return apiKey.startsWith('test_') || apiKey.startsWith('pk_test_');\n}\n\n/**\n * Checks if a publishable key is for a production environment.\n * Supports both legacy format (live_) and new format (pk_live_).\n *\n * @param apiKey - The API key to check.\n * @returns `true` if the key is for production, `false` otherwise.\n */\nexport function isProductionFromPublishableKey(apiKey: string): boolean {\n  return apiKey.startsWith('live_') || apiKey.startsWith('pk_live_');\n}\n\n/**\n * Checks if a secret key is for a development environment.\n * Supports both legacy format (test_) and new format (sk_test_).\n *\n * @param apiKey - The secret key to check.\n * @returns `true` if the key is for development, `false` otherwise.\n */\nexport function isDevelopmentFromSecretKey(apiKey: string): boolean {\n  return apiKey.startsWith('test_') || apiKey.startsWith('sk_test_');\n}\n\n/**\n * Checks if a secret key is for a production environment.\n * Supports both legacy format (live_) and new format (sk_live_).\n *\n * @param apiKey - The secret key to check.\n * @returns `true` if the key is for production, `false` otherwise.\n */\nexport function isProductionFromSecretKey(apiKey: string): boolean {\n  return apiKey.startsWith('live_') || apiKey.startsWith('sk_live_');\n}\n\n/**\n * Generates a unique cookie suffix based on the publishable key using SHA-1 hashing.\n * The suffix is base64-encoded and URL-safe (+ and / characters are replaced).\n *\n * @param publishableKey - The publishable key to generate suffix from.\n * @param subtle - The SubtleCrypto interface to use for hashing (defaults to globalThis.crypto.subtle).\n * @returns A promise that resolves to an 8-character URL-safe base64 string.\n */\nexport async function getCookieSuffix(\n  publishableKey: string,\n  subtle: SubtleCrypto = globalThis.crypto.subtle,\n): Promise<string> {\n  const data = new TextEncoder().encode(publishableKey);\n  const digest = await subtle.digest('sha-1', data);\n  const stringDigest = String.fromCharCode(...new Uint8Array(digest));\n  // Base 64 Encoding with URL and Filename Safe Alphabet: https://datatracker.ietf.org/doc/html/rfc4648#section-5\n  return isomorphicBtoa(stringDigest).replace(/\\+/gi, '-').replace(/\\//gi, '_').substring(0, 8);\n}\n\n/**\n * Creates a suffixed cookie name by appending the cookie suffix to the base name.\n * Used to create unique cookie names based on the publishable key.\n *\n * @param cookieName - The base cookie name.\n * @param cookieSuffix - The suffix to append (typically generated by getCookieSuffix).\n * @returns The suffixed cookie name in format: `${cookieName}_${cookieSuffix}`.\n */\nexport const getSuffixedCookieName = (cookieName: string, cookieSuffix: string): string => {\n  return `${cookieName}_${cookieSuffix}`;\n};\n", "import type { ClerkOptions, SDKMetadata, Without } from '@clerk/types';\n\nimport { buildErrorThrower } from './error';\nimport { createDevOrStagingUrlCache, parsePublishableKey } from './keys';\nimport { loadScript } from './loadScript';\nimport { isValidProxyUrl, proxyUrlToAbsoluteURL } from './proxy';\nimport { addClerkPrefix } from './url';\nimport { versionSelector } from './versionSelector';\n\nconst FAILED_TO_LOAD_ERROR = 'Clerk: Failed to load Clerk';\n\nconst { isDevOrStagingUrl } = createDevOrStagingUrlCache();\n\nconst errorThrower = buildErrorThrower({ packageName: '@clerk/shared' });\n\n/**\n * Sets the package name for error messages during ClerkJS script loading.\n *\n * @example\n * setClerkJsLoadingErrorPackageName('@clerk/clerk-react');\n */\nexport function setClerkJsLoadingErrorPackageName(packageName: string) {\n  errorThrower.setPackageName({ packageName });\n}\n\ntype LoadClerkJsScriptOptions = Without<ClerkOptions, 'isSatellite'> & {\n  publishableKey: string;\n  clerkJSUrl?: string;\n  clerkJSVariant?: 'headless' | '';\n  clerkJSVersion?: string;\n  sdkMetadata?: SDKMetadata;\n  proxyUrl?: string;\n  domain?: string;\n  nonce?: string;\n};\n\n/**\n * Hotloads the Clerk JS script.\n *\n * Checks for an existing Clerk JS script. If found, it returns a promise\n * that resolves when the script loads. If not found, it uses the provided options to\n * build the Clerk JS script URL and load the script.\n *\n * @param opts - The options used to build the Clerk JS script URL and load the script.\n *               Must include a `publishableKey` if no existing script is found.\n *\n * @example\n * loadClerkJsScript({ publishableKey: 'pk_' });\n */\nconst loadClerkJsScript = async (opts?: LoadClerkJsScriptOptions) => {\n  const existingScript = document.querySelector<HTMLScriptElement>('script[data-clerk-js-script]');\n\n  if (existingScript) {\n    return new Promise((resolve, reject) => {\n      existingScript.addEventListener('load', () => {\n        resolve(existingScript);\n      });\n\n      existingScript.addEventListener('error', () => {\n        reject(FAILED_TO_LOAD_ERROR);\n      });\n    });\n  }\n\n  if (!opts?.publishableKey) {\n    errorThrower.throwMissingPublishableKeyError();\n    return;\n  }\n\n  return loadScript(clerkJsScriptUrl(opts), {\n    async: true,\n    crossOrigin: 'anonymous',\n    nonce: opts.nonce,\n    beforeLoad: applyClerkJsScriptAttributes(opts),\n  }).catch(() => {\n    throw new Error(FAILED_TO_LOAD_ERROR);\n  });\n};\n\n/**\n * Generates a Clerk JS script URL.\n *\n * @param opts - The options to use when building the Clerk JS script URL.\n *\n * @example\n * clerkJsScriptUrl({ publishableKey: 'pk_' });\n */\nconst clerkJsScriptUrl = (opts: LoadClerkJsScriptOptions) => {\n  const { clerkJSUrl, clerkJSVariant, clerkJSVersion, proxyUrl, domain, publishableKey } = opts;\n\n  if (clerkJSUrl) {\n    return clerkJSUrl;\n  }\n\n  let scriptHost = '';\n  if (!!proxyUrl && isValidProxyUrl(proxyUrl)) {\n    scriptHost = proxyUrlToAbsoluteURL(proxyUrl).replace(/http(s)?:\\/\\//, '');\n  } else if (domain && !isDevOrStagingUrl(parsePublishableKey(publishableKey)?.frontendApi || '')) {\n    scriptHost = addClerkPrefix(domain);\n  } else {\n    scriptHost = parsePublishableKey(publishableKey)?.frontendApi || '';\n  }\n\n  const variant = clerkJSVariant ? `${clerkJSVariant.replace(/\\.+$/, '')}.` : '';\n  const version = versionSelector(clerkJSVersion);\n  return `https://${scriptHost}/npm/@clerk/clerk-js@${version}/dist/clerk.${variant}browser.js`;\n};\n\n/**\n * Builds an object of Clerk JS script attributes.\n */\nconst buildClerkJsScriptAttributes = (options: LoadClerkJsScriptOptions) => {\n  const obj: Record<string, string> = {};\n\n  if (options.publishableKey) {\n    obj['data-clerk-publishable-key'] = options.publishableKey;\n  }\n\n  if (options.proxyUrl) {\n    obj['data-clerk-proxy-url'] = options.proxyUrl;\n  }\n\n  if (options.domain) {\n    obj['data-clerk-domain'] = options.domain;\n  }\n\n  if (options.nonce) {\n    obj.nonce = options.nonce;\n  }\n\n  return obj;\n};\n\nconst applyClerkJsScriptAttributes = (options: LoadClerkJsScriptOptions) => (script: HTMLScriptElement) => {\n  const attributes = buildClerkJsScriptAttributes(options);\n  for (const attribute in attributes) {\n    script.setAttribute(attribute, attributes[attribute]);\n  }\n};\n\nexport { loadClerkJsScript, buildClerkJsScriptAttributes, clerkJsScriptUrl };\nexport type { LoadClerkJsScriptOptions };\n", "export const isDevelopmentEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'development';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n\n  return false;\n};\n\nexport const isTestEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'test';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n\nexport const isProductionEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'production';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n", "import { isProductionEnvironment, isTestEnvironment } from './utils/runtimeEnvironment';\n/**\n * Mark class method / function as deprecated.\n *\n * A console WARNING will be displayed when class method / function is invoked.\n *\n * Examples\n * 1. Deprecate class method\n * class Example {\n *   getSomething = (arg1, arg2) => {\n *       deprecated('Example.getSomething', 'Use `getSomethingElse` instead.');\n *       return `getSomethingValue:${arg1 || '-'}:${arg2 || '-'}`;\n *   };\n * }\n *\n * 2. Deprecate function\n * const getSomething = () => {\n *   deprecated('getSomething', 'Use `getSomethingElse` instead.');\n *   return 'getSomethingValue';\n * };\n */\nconst displayedWarnings = new Set<string>();\nexport const deprecated = (fnName: string, warning: string, key?: string): void => {\n  const hideWarning = isTestEnvironment() || isProductionEnvironment();\n  const messageId = key ?? fnName;\n  if (displayedWarnings.has(messageId) || hideWarning) {\n    return;\n  }\n  displayedWarnings.add(messageId);\n\n  console.warn(\n    `Clerk - DEPRECATION WARNING: \"${fnName}\" is deprecated and will be removed in the next major release.\\n${warning}`,\n  );\n};\n/**\n * Mark class property as deprecated.\n *\n * A console WARNING will be displayed when class property is being accessed.\n *\n * 1. Deprecate class property\n * class Example {\n *   something: string;\n *   constructor(something: string) {\n *     this.something = something;\n *   }\n * }\n *\n * deprecatedProperty(Example, 'something', 'Use `somethingElse` instead.');\n *\n * 2. Deprecate class static property\n * class Example {\n *   static something: string;\n * }\n *\n * deprecatedProperty(Example, 'something', 'Use `somethingElse` instead.', true);\n */\ntype AnyClass = new (...args: any[]) => any;\n\nexport const deprecatedProperty = (cls: AnyClass, propName: string, warning: string, isStatic = false): void => {\n  const target = isStatic ? cls : cls.prototype;\n\n  let value = target[propName];\n  Object.defineProperty(target, propName, {\n    get() {\n      deprecated(propName, warning, `${cls.name}:${propName}`);\n      return value;\n    },\n    set(v: unknown) {\n      value = v;\n    },\n  });\n};\n\n/**\n * Mark object property as deprecated.\n *\n * A console WARNING will be displayed when object property is being accessed.\n *\n * 1. Deprecate object property\n * const obj = { something: 'aloha' };\n *\n * deprecatedObjectProperty(obj, 'something', 'Use `somethingElse` instead.');\n */\nexport const deprecatedObjectProperty = (\n  obj: Record<string, any>,\n  propName: string,\n  warning: string,\n  key?: string,\n): void => {\n  let value = obj[propName];\n  Object.defineProperty(obj, propName, {\n    get() {\n      deprecated(propName, warning, key);\n      return value;\n    },\n    set(v: unknown) {\n      value = v;\n    },\n  });\n};\n", "import type {\n  ActClaim,\n  CheckAuthorizationWithCustomPermissions,\n  GetToken,\n  JwtPayload,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  PendingSessionOptions,\n  ReverificationConfig,\n  SessionStatusClaim,\n  SessionVerificationLevel,\n  SessionVerificationTypes,\n  SignOut,\n  UseAuthReturn,\n} from '@clerk/types';\n\ntype TypesToConfig = Record<SessionVerificationTypes, Exclude<ReverificationConfig, SessionVerificationTypes>>;\ntype AuthorizationOptions = {\n  userId: string | null | undefined;\n  orgId: string | null | undefined;\n  orgRole: string | null | undefined;\n  orgPermissions: string[] | null | undefined;\n  factorVerificationAge: [number, number] | null;\n  features: string | null | undefined;\n  plans: string | null | undefined;\n};\n\ntype CheckOrgAuthorization = (\n  params: { role?: OrganizationCustomRoleKey; permission?: OrganizationCustomPermissionKey },\n  options: Pick<AuthorizationOptions, 'orgId' | 'orgRole' | 'orgPermissions'>,\n) => boolean | null;\n\ntype CheckBillingAuthorization = (\n  params: { feature?: string; plan?: string },\n  options: Pick<AuthorizationOptions, 'plans' | 'features'>,\n) => boolean | null;\n\ntype CheckReverificationAuthorization = (\n  params: {\n    reverification?: ReverificationConfig;\n  },\n  { factorVerificationAge }: AuthorizationOptions,\n) => boolean | null;\n\nconst TYPES_TO_OBJECTS: TypesToConfig = {\n  strict_mfa: {\n    afterMinutes: 10,\n    level: 'multi_factor',\n  },\n  strict: {\n    afterMinutes: 10,\n    level: 'second_factor',\n  },\n  moderate: {\n    afterMinutes: 60,\n    level: 'second_factor',\n  },\n  lax: {\n    afterMinutes: 1_440,\n    level: 'second_factor',\n  },\n};\n\nconst ALLOWED_LEVELS = new Set<SessionVerificationLevel>(['first_factor', 'second_factor', 'multi_factor']);\n\nconst ALLOWED_TYPES = new Set<SessionVerificationTypes>(['strict_mfa', 'strict', 'moderate', 'lax']);\n\n// Helper functions\nconst isValidMaxAge = (maxAge: any) => typeof maxAge === 'number' && maxAge > 0;\nconst isValidLevel = (level: any) => ALLOWED_LEVELS.has(level);\nconst isValidVerificationType = (type: any) => ALLOWED_TYPES.has(type);\n\nconst prefixWithOrg = (value: string) => value.replace(/^(org:)*/, 'org:');\n\n/**\n * Checks if a user has the required organization-level authorization.\n * Verifies if the user has the specified role or permission within their organization.\n * @returns null, if unable to determine due to missing data or unspecified role/permission.\n */\nconst checkOrgAuthorization: CheckOrgAuthorization = (params, options) => {\n  const { orgId, orgRole, orgPermissions } = options;\n  if (!params.role && !params.permission) {\n    return null;\n  }\n\n  if (!orgId || !orgRole || !orgPermissions) {\n    return null;\n  }\n\n  if (params.permission) {\n    return orgPermissions.includes(prefixWithOrg(params.permission));\n  }\n\n  if (params.role) {\n    return prefixWithOrg(orgRole) === prefixWithOrg(params.role);\n  }\n  return null;\n};\n\nconst checkForFeatureOrPlan = (claim: string, featureOrPlan: string) => {\n  const { org: orgFeatures, user: userFeatures } = splitByScope(claim);\n  const [scope, _id] = featureOrPlan.split(':');\n  const id = _id || scope;\n\n  if (scope === 'org') {\n    return orgFeatures.includes(id);\n  } else if (scope === 'user') {\n    return userFeatures.includes(id);\n  } else {\n    // Since org scoped features will not exist if there is not an active org, merging is safe.\n    return [...orgFeatures, ...userFeatures].includes(id);\n  }\n};\n\nconst checkBillingAuthorization: CheckBillingAuthorization = (params, options) => {\n  const { features, plans } = options;\n\n  if (params.feature && features) {\n    return checkForFeatureOrPlan(features, params.feature);\n  }\n\n  if (params.plan && plans) {\n    return checkForFeatureOrPlan(plans, params.plan);\n  }\n  return null;\n};\n\nconst splitByScope = (fea: string | null | undefined) => {\n  const features = fea ? fea.split(',').map(f => f.trim()) : [];\n\n  // TODO: make this more efficient\n  return {\n    org: features.filter(f => f.split(':')[0].includes('o')).map(f => f.split(':')[1]),\n    user: features.filter(f => f.split(':')[0].includes('u')).map(f => f.split(':')[1]),\n  };\n};\n\nconst validateReverificationConfig = (config: ReverificationConfig | undefined | null) => {\n  if (!config) {\n    return false;\n  }\n\n  const convertConfigToObject = (config: ReverificationConfig) => {\n    if (typeof config === 'string') {\n      return TYPES_TO_OBJECTS[config];\n    }\n    return config;\n  };\n\n  const isValidStringValue = typeof config === 'string' && isValidVerificationType(config);\n  const isValidObjectValue =\n    typeof config === 'object' && isValidLevel(config.level) && isValidMaxAge(config.afterMinutes);\n\n  if (isValidStringValue || isValidObjectValue) {\n    return convertConfigToObject.bind(null, config);\n  }\n\n  return false;\n};\n\n/**\n * Evaluates if the user meets re-verification authentication requirements.\n * Compares the user's factor verification ages against the specified maxAge.\n * Handles different verification levels (first factor, second factor, multi-factor).\n * @returns null, if requirements or verification data are missing.\n */\nconst checkReverificationAuthorization: CheckReverificationAuthorization = (params, { factorVerificationAge }) => {\n  if (!params.reverification || !factorVerificationAge) {\n    return null;\n  }\n\n  const isValidReverification = validateReverificationConfig(params.reverification);\n  if (!isValidReverification) {\n    return null;\n  }\n\n  const { level, afterMinutes } = isValidReverification();\n  const [factor1Age, factor2Age] = factorVerificationAge;\n\n  // -1 indicates the factor group (1fa,2fa) is not enabled\n  // -1 for 1fa is not a valid scenario, but we need to make sure we handle it properly\n  const isValidFactor1 = factor1Age !== -1 ? afterMinutes > factor1Age : null;\n  const isValidFactor2 = factor2Age !== -1 ? afterMinutes > factor2Age : null;\n\n  switch (level) {\n    case 'first_factor':\n      return isValidFactor1;\n    case 'second_factor':\n      return factor2Age !== -1 ? isValidFactor2 : isValidFactor1;\n    case 'multi_factor':\n      return factor2Age === -1 ? isValidFactor1 : isValidFactor1 && isValidFactor2;\n  }\n};\n\n/**\n * Creates a function for comprehensive user authorization checks.\n * Combines organization-level and reverification authentication checks.\n * The returned function authorizes if both checks pass, or if at least one passes\n * when the other is indeterminate. Fails if userId is missing.\n */\nconst createCheckAuthorization = (options: AuthorizationOptions): CheckAuthorizationWithCustomPermissions => {\n  return (params): boolean => {\n    if (!options.userId) {\n      return false;\n    }\n\n    const billingAuthorization = checkBillingAuthorization(params, options);\n    const orgAuthorization = checkOrgAuthorization(params, options);\n    const reverificationAuthorization = checkReverificationAuthorization(params, options);\n\n    if ([billingAuthorization || orgAuthorization, reverificationAuthorization].some(a => a === null)) {\n      return [billingAuthorization || orgAuthorization, reverificationAuthorization].some(a => a === true);\n    }\n\n    return [billingAuthorization || orgAuthorization, reverificationAuthorization].every(a => a === true);\n  };\n};\n\ntype AuthStateOptions = {\n  authObject: {\n    userId?: string | null;\n    sessionId?: string | null;\n    sessionStatus?: SessionStatusClaim | null;\n    sessionClaims?: JwtPayload | null;\n    actor?: ActClaim | null;\n    orgId?: string | null;\n    orgRole?: OrganizationCustomRoleKey | null;\n    orgSlug?: string | null;\n    orgPermissions?: OrganizationCustomPermissionKey[] | null;\n    getToken: GetToken;\n    signOut: SignOut;\n    has: (params: Parameters<CheckAuthorizationWithCustomPermissions>[0]) => boolean;\n  };\n  options: PendingSessionOptions;\n};\n\n/**\n * Shared utility function that centralizes auth state resolution logic,\n * preventing duplication across different packages.\n * @internal\n */\nconst resolveAuthState = ({\n  authObject: {\n    sessionId,\n    sessionStatus,\n    userId,\n    actor,\n    orgId,\n    orgRole,\n    orgSlug,\n    signOut,\n    getToken,\n    has,\n    sessionClaims,\n  },\n  options: { treatPendingAsSignedOut = true },\n}: AuthStateOptions): UseAuthReturn | undefined => {\n  if (sessionId === undefined && userId === undefined) {\n    return {\n      isLoaded: false,\n      isSignedIn: undefined,\n      sessionId,\n      sessionClaims: undefined,\n      userId,\n      actor: undefined,\n      orgId: undefined,\n      orgRole: undefined,\n      orgSlug: undefined,\n      has: undefined,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (sessionId === null && userId === null) {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId,\n      userId,\n      sessionClaims: null,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (treatPendingAsSignedOut && sessionStatus === 'pending') {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId: null,\n      userId: null,\n      sessionClaims: null,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (!!sessionId && !!sessionClaims && !!userId && !!orgId && !!orgRole) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      sessionClaims,\n      userId,\n      actor: actor || null,\n      orgId,\n      orgRole,\n      orgSlug: orgSlug || null,\n      has,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (!!sessionId && !!sessionClaims && !!userId && !orgId) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      sessionClaims,\n      userId,\n      actor: actor || null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has,\n      signOut,\n      getToken,\n    } as const;\n  }\n};\n\nexport { createCheckAuthorization, validateReverificationConfig, resolveAuthState, splitByScope };\n", "/**\n * Convert words to a sentence.\n *\n * @param items - An array of words to be joined.\n * @returns A string with the items joined by a comma and the last item joined by \", or\".\n */\nexport const toSentence = (items: string[]): string => {\n  // TODO: Once Safari supports it, use Intl.ListFormat\n  if (items.length == 0) {\n    return '';\n  }\n  if (items.length == 1) {\n    return items[0];\n  }\n  let sentence = items.slice(0, -1).join(', ');\n  sentence += `, or ${items.slice(-1)}`;\n  return sentence;\n};\n\nconst IP_V4_ADDRESS_REGEX =\n  /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n\n/**\n * Checks if a string is a valid IPv4 address.\n *\n * @returns True if the string is a valid IPv4 address, false otherwise.\n */\nexport function isIPV4Address(str: string | undefined | null): boolean {\n  return IP_V4_ADDRESS_REGEX.test(str || '');\n}\n\n/**\n * Converts the first character of a string to uppercase.\n *\n * @param str - The string to be converted.\n * @returns The modified string with the rest of the string unchanged.\n *\n * @example\n * ```ts\n * titleize('hello world') // 'Hello world'\n * ```\n */\nexport function titleize(str: string | undefined | null): string {\n  const s = str || '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n/**\n * Converts a string from snake_case to camelCase.\n */\nexport function snakeToCamel(str: string | undefined): string {\n  return str ? str.replace(/([-_][a-z])/g, match => match.toUpperCase().replace(/-|_/, '')) : '';\n}\n\n/**\n * Converts a string from camelCase to snake_case.\n */\nexport function camelToSnake(str: string | undefined): string {\n  return str ? str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`) : '';\n}\n\nconst createDeepObjectTransformer = (transform: any) => {\n  const deepTransform = (obj: any): any => {\n    if (!obj) {\n      return obj;\n    }\n\n    if (Array.isArray(obj)) {\n      return obj.map(el => {\n        if (typeof el === 'object' || Array.isArray(el)) {\n          return deepTransform(el);\n        }\n        return el;\n      });\n    }\n\n    const copy = { ...obj };\n    const keys = Object.keys(copy);\n    for (const oldName of keys) {\n      const newName = transform(oldName.toString());\n      if (newName !== oldName) {\n        copy[newName] = copy[oldName];\n        delete copy[oldName];\n      }\n      if (typeof copy[newName] === 'object') {\n        copy[newName] = deepTransform(copy[newName]);\n      }\n    }\n    return copy;\n  };\n\n  return deepTransform;\n};\n\n/**\n * Transforms camelCased objects/ arrays to snake_cased.\n * This function recursively traverses all objects and arrays of the passed value\n * camelCased keys are removed.\n *\n * @function\n */\nexport const deepCamelToSnake = createDeepObjectTransformer(camelToSnake);\n\n/**\n * Transforms snake_cased objects/ arrays to camelCased.\n * This function recursively traverses all objects and arrays of the passed value\n * camelCased keys are removed.\n *\n * @function\n */\nexport const deepSnakeToCamel = createDeepObjectTransformer(snakeToCamel);\n\n/**\n * A function to determine if a value is truthy.\n *\n * @returns True for `true`, true, positive numbers. False for `false`, false, 0, negative integers and anything else.\n */\nexport function isTruthy(value: unknown): boolean {\n  // Return if Boolean\n  if (typeof value === `boolean`) {\n    return value;\n  }\n\n  // Return false if null or undefined\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  // If the String is true or false\n  if (typeof value === `string`) {\n    if (value.toLowerCase() === `true`) {\n      return true;\n    }\n\n    if (value.toLowerCase() === `false`) {\n      return false;\n    }\n  }\n\n  // Now check if it's a number\n  const number = parseInt(value as string, 10);\n  if (isNaN(number)) {\n    return false;\n  }\n\n  if (number > 0) {\n    return true;\n  }\n\n  // Default to false\n  return false;\n}\n\n/**\n * Get all non-undefined values from an object.\n */\nexport function getNonUndefinedValues<T extends object>(obj: T): Partial<T> {\n  return Object.entries(obj).reduce((acc, [key, value]) => {\n    if (value !== undefined) {\n      acc[key as keyof T] = value;\n    }\n    return acc;\n  }, {} as Partial<T>);\n}\n", "import type { TelemetryEvent } from '@clerk/types';\n\ntype TtlInMilliseconds = number;\n\nconst DEFAULT_CACHE_TTL_MS = 86400000; // 24 hours\n\n/**\n * Manages throttling for telemetry events using the browser's localStorage to\n * mitigate event flooding in frequently executed code paths.\n */\nexport class TelemetryEventThrottler {\n  #storageKey = 'clerk_telemetry_throttler';\n  #cacheTtl = DEFAULT_CACHE_TTL_MS;\n\n  isEventThrottled(payload: TelemetryEvent): boolean {\n    if (!this.#isValidBrowser) {\n      return false;\n    }\n\n    const now = Date.now();\n    const key = this.#generateKey(payload);\n    const entry = this.#cache?.[key];\n\n    if (!entry) {\n      const updatedCache = {\n        ...this.#cache,\n        [key]: now,\n      };\n\n      localStorage.setItem(this.#storageKey, JSON.stringify(updatedCache));\n    }\n\n    const shouldInvalidate = entry && now - entry > this.#cacheTtl;\n    if (shouldInvalidate) {\n      const updatedCache = this.#cache;\n      delete updatedCache[key];\n\n      localStorage.setItem(this.#storageKey, JSON.stringify(updatedCache));\n    }\n\n    return !!entry;\n  }\n\n  /**\n   * Generates a consistent unique key for telemetry events by sorting payload properties.\n   * This ensures that payloads with identical content in different orders produce the same key.\n   */\n  #generateKey(event: TelemetryEvent): string {\n    const { sk: _sk, pk: _pk, payload, ...rest } = event;\n\n    const sanitizedEvent: Omit<TelemetryEvent, 'sk' | 'pk' | 'payload'> & TelemetryEvent['payload'] = {\n      ...payload,\n      ...rest,\n    };\n\n    return JSON.stringify(\n      Object.keys({\n        ...payload,\n        ...rest,\n      })\n        .sort()\n        .map(key => sanitizedEvent[key]),\n    );\n  }\n\n  get #cache(): Record<string, TtlInMilliseconds> | undefined {\n    const cacheString = localStorage.getItem(this.#storageKey);\n\n    if (!cacheString) {\n      return {};\n    }\n\n    return JSON.parse(cacheString);\n  }\n\n  /**\n   * Checks if the browser's localStorage is supported and writable.\n   *\n   * If any of these operations fail, it indicates that localStorage is either\n   * not supported or not writable (e.g., in cases where the storage is full or\n   * the browser is in a privacy mode that restricts localStorage usage).\n   */\n  get #isValidBrowser(): boolean {\n    if (typeof window === 'undefined') {\n      return false;\n    }\n\n    const storage = window.localStorage;\n    if (!storage) {\n      return false;\n    }\n\n    try {\n      const testKey = 'test';\n      storage.setItem(testKey, testKey);\n      storage.removeItem(testKey);\n\n      return true;\n    } catch (err: unknown) {\n      const isQuotaExceededError =\n        err instanceof DOMException &&\n        // Check error names for different browsers\n        (err.name === 'QuotaExceededError' || err.name === 'NS_ERROR_DOM_QUOTA_REACHED');\n\n      if (isQuotaExceededError && storage.length > 0) {\n        storage.removeItem(this.#storageKey);\n      }\n\n      return false;\n    }\n  }\n}\n", "/**\n * The `TelemetryCollector` class handles collection of telemetry events from Clerk SDKs. Telemetry is opt-out and can be disabled by setting a CLERK_TELEMETRY_DISABLED environment variable.\n * The `ClerkProvider` also accepts a `telemetry` prop that will be passed to the collector during initialization:\n *\n * ```jsx\n * <ClerkProvider telemetry={false}>\n *    ...\n * </ClerkProvider>\n * ```\n *\n * For more information, please see the telemetry documentation page: https://clerk.com/docs/telemetry\n */\nimport type {\n  InstanceType,\n  TelemetryCollector as TelemetryCollectorInterface,\n  TelemetryEvent,\n  TelemetryEventRaw,\n} from '@clerk/types';\n\nimport { parsePublishableKey } from '../keys';\nimport { isTruthy } from '../underscore';\nimport { TelemetryEventThrottler } from './throttler';\nimport type { TelemetryCollectorOptions } from './types';\n\ntype TelemetryCollectorConfig = Pick<\n  TelemetryCollectorOptions,\n  'samplingRate' | 'disabled' | 'debug' | 'maxBufferSize'\n> & {\n  endpoint: string;\n};\n\ntype TelemetryMetadata = Required<\n  Pick<TelemetryCollectorOptions, 'clerkVersion' | 'sdk' | 'sdkVersion' | 'publishableKey' | 'secretKey'>\n> & {\n  /**\n   * The instance type, derived from the provided publishableKey.\n   */\n  instanceType: InstanceType;\n};\n\nconst DEFAULT_CONFIG: Partial<TelemetryCollectorConfig> = {\n  samplingRate: 1,\n  maxBufferSize: 5,\n  // Production endpoint: https://clerk-telemetry.com\n  // Staging endpoint: https://staging.clerk-telemetry.com\n  // Local: http://localhost:8787\n  endpoint: 'https://clerk-telemetry.com',\n};\n\nexport class TelemetryCollector implements TelemetryCollectorInterface {\n  #config: Required<TelemetryCollectorConfig>;\n  #eventThrottler: TelemetryEventThrottler;\n  #metadata: TelemetryMetadata = {} as TelemetryMetadata;\n  #buffer: TelemetryEvent[] = [];\n  #pendingFlush: any;\n\n  constructor(options: TelemetryCollectorOptions) {\n    this.#config = {\n      maxBufferSize: options.maxBufferSize ?? DEFAULT_CONFIG.maxBufferSize,\n      samplingRate: options.samplingRate ?? DEFAULT_CONFIG.samplingRate,\n      disabled: options.disabled ?? false,\n      debug: options.debug ?? false,\n      endpoint: DEFAULT_CONFIG.endpoint,\n    } as Required<TelemetryCollectorConfig>;\n\n    if (!options.clerkVersion && typeof window === 'undefined') {\n      // N/A in a server environment\n      this.#metadata.clerkVersion = '';\n    } else {\n      this.#metadata.clerkVersion = options.clerkVersion ?? '';\n    }\n\n    // We will try to grab the SDK data lazily when an event is triggered, so it should always be defined once the event is sent.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.#metadata.sdk = options.sdk!;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.#metadata.sdkVersion = options.sdkVersion!;\n\n    this.#metadata.publishableKey = options.publishableKey ?? '';\n\n    const parsedKey = parsePublishableKey(options.publishableKey);\n    if (parsedKey) {\n      this.#metadata.instanceType = parsedKey.instanceType;\n    }\n\n    if (options.secretKey) {\n      // Only send the first 16 characters of the secret key to to avoid sending the full key. We can still query against the partial key.\n      this.#metadata.secretKey = options.secretKey.substring(0, 16);\n    }\n\n    this.#eventThrottler = new TelemetryEventThrottler();\n  }\n\n  get isEnabled(): boolean {\n    if (this.#metadata.instanceType !== 'development') {\n      return false;\n    }\n\n    // In browser or client environments, we most likely pass the disabled option to the collector, but in environments\n    // where environment variables are available we also check for `CLERK_TELEMETRY_DISABLED`.\n    if (\n      this.#config.disabled ||\n      (typeof process !== 'undefined' && process.env && isTruthy(process.env.CLERK_TELEMETRY_DISABLED))\n    ) {\n      return false;\n    }\n\n    // navigator.webdriver is a property generally set by headless browsers that are running in an automated testing environment.\n    // Data from these environments is not meaningful for us and has the potential to produce a large volume of events, so we disable\n    // collection in this case. (ref: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/webdriver)\n    if (typeof window !== 'undefined' && !!window?.navigator?.webdriver) {\n      return false;\n    }\n\n    return true;\n  }\n\n  get isDebug(): boolean {\n    return (\n      this.#config.debug ||\n      (typeof process !== 'undefined' && process.env && isTruthy(process.env.CLERK_TELEMETRY_DEBUG))\n    );\n  }\n\n  record(event: TelemetryEventRaw): void {\n    const preparedPayload = this.#preparePayload(event.event, event.payload);\n\n    this.#logEvent(preparedPayload.event, preparedPayload);\n\n    if (!this.#shouldRecord(preparedPayload, event.eventSamplingRate)) {\n      return;\n    }\n\n    this.#buffer.push(preparedPayload);\n\n    this.#scheduleFlush();\n  }\n\n  #shouldRecord(preparedPayload: TelemetryEvent, eventSamplingRate?: number) {\n    return this.isEnabled && !this.isDebug && this.#shouldBeSampled(preparedPayload, eventSamplingRate);\n  }\n\n  #shouldBeSampled(preparedPayload: TelemetryEvent, eventSamplingRate?: number) {\n    const randomSeed = Math.random();\n\n    const toBeSampled =\n      randomSeed <= this.#config.samplingRate &&\n      (typeof eventSamplingRate === 'undefined' || randomSeed <= eventSamplingRate);\n\n    if (!toBeSampled) {\n      return false;\n    }\n\n    return !this.#eventThrottler.isEventThrottled(preparedPayload);\n  }\n\n  #scheduleFlush(): void {\n    // On the server, we want to flush immediately as we have less guarantees about the lifecycle of the process\n    if (typeof window === 'undefined') {\n      this.#flush();\n      return;\n    }\n\n    const isBufferFull = this.#buffer.length >= this.#config.maxBufferSize;\n    if (isBufferFull) {\n      // If the buffer is full, flush immediately to make sure we minimize the chance of event loss.\n      // Cancel any pending flushes as we're going to flush immediately\n      if (this.#pendingFlush) {\n        const cancel = typeof cancelIdleCallback !== 'undefined' ? cancelIdleCallback : clearTimeout;\n        cancel(this.#pendingFlush);\n      }\n      this.#flush();\n      return;\n    }\n\n    // If we have a pending flush, do nothing\n    if (this.#pendingFlush) {\n      return;\n    }\n\n    if ('requestIdleCallback' in window) {\n      this.#pendingFlush = requestIdleCallback(() => {\n        this.#flush();\n      });\n    } else {\n      // This is not an ideal solution, but it at least waits until the next tick\n      this.#pendingFlush = setTimeout(() => {\n        this.#flush();\n      }, 0);\n    }\n  }\n\n  #flush(): void {\n    fetch(new URL('/v1/event', this.#config.endpoint), {\n      method: 'POST',\n      // TODO: We send an array here with that idea that we can eventually send multiple events.\n      body: JSON.stringify({\n        events: this.#buffer,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .catch(() => void 0)\n      .then(() => {\n        this.#buffer = [];\n      })\n      .catch(() => void 0);\n  }\n\n  /**\n   * If running in debug mode, log the event and its payload to the console.\n   */\n  #logEvent(event: TelemetryEvent['event'], payload: Record<string, any>) {\n    if (!this.isDebug) {\n      return;\n    }\n\n    if (typeof console.groupCollapsed !== 'undefined') {\n      console.groupCollapsed('[clerk/telemetry]', event);\n      console.log(payload);\n      console.groupEnd();\n    } else {\n      console.log('[clerk/telemetry]', event, payload);\n    }\n  }\n\n  /**\n   * If in browser, attempt to lazily grab the SDK metadata from the Clerk singleton, otherwise fallback to the initially passed in values.\n   *\n   * This is necessary because the sdkMetadata can be set by the host SDK after the TelemetryCollector is instantiated.\n   */\n  #getSDKMetadata() {\n    let sdkMetadata = {\n      name: this.#metadata.sdk,\n      version: this.#metadata.sdkVersion,\n    };\n\n    // @ts-expect-error -- The global window.Clerk type is declared in clerk-js, but we can't rely on that here\n    if (typeof window !== 'undefined' && window.Clerk) {\n      // @ts-expect-error -- The global window.Clerk type is declared in clerk-js, but we can't rely on that here\n      sdkMetadata = { ...sdkMetadata, ...window.Clerk.constructor.sdkMetadata };\n    }\n\n    return sdkMetadata;\n  }\n\n  /**\n   * Append relevant metadata from the Clerk singleton to the event payload.\n   */\n  #preparePayload(event: TelemetryEvent['event'], payload: TelemetryEvent['payload']): TelemetryEvent {\n    const sdkMetadata = this.#getSDKMetadata();\n\n    return {\n      event,\n      cv: this.#metadata.clerkVersion ?? '',\n      it: this.#metadata.instanceType ?? '',\n      sdk: sdkMetadata.name,\n      sdkv: sdkMetadata.version,\n      ...(this.#metadata.publishableKey ? { pk: this.#metadata.publishableKey } : {}),\n      ...(this.#metadata.secretKey ? { sk: this.#metadata.secretKey } : {}),\n      payload,\n    };\n  }\n}\n", "import type { TelemetryEventRaw } from '@clerk/types';\n\nconst EVENT_COMPONENT_MOUNTED = 'COMPONENT_MOUNTED';\nconst EVENT_COMPONENT_OPENED = 'COMPONENT_OPENED';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype ComponentMountedBase = {\n  component: string;\n};\n\ntype EventPrebuiltComponent = ComponentMountedBase & {\n  appearanceProp: boolean;\n  elements: boolean;\n  variables: boolean;\n  baseTheme: boolean;\n};\n\ntype EventComponentMounted = ComponentMountedBase & TelemetryEventRaw['payload'];\n\nfunction createPrebuiltComponentEvent(event: typeof EVENT_COMPONENT_MOUNTED | typeof EVENT_COMPONENT_OPENED) {\n  return function (\n    component: string,\n    props?: Record<string, any>,\n    additionalPayload?: TelemetryEventRaw['payload'],\n  ): TelemetryEventRaw<EventPrebuiltComponent> {\n    return {\n      event,\n      eventSamplingRate: EVENT_SAMPLING_RATE,\n      payload: {\n        component,\n        appearanceProp: Boolean(props?.appearance),\n        baseTheme: Boolean(props?.appearance?.baseTheme),\n        elements: Boolean(props?.appearance?.elements),\n        variables: Boolean(props?.appearance?.variables),\n        ...additionalPayload,\n      },\n    };\n  };\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a prebuilt (AIO) component is mounted.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Will be filtered to a known list of props.\n * @param additionalPayload - Additional data to send with the event.\n *\n * @example\n * telemetry.record(eventPrebuiltComponentMounted('SignUp', props));\n */\nexport function eventPrebuiltComponentMounted(\n  component: string,\n  props?: Record<string, any>,\n  additionalPayload?: TelemetryEventRaw['payload'],\n): TelemetryEventRaw<EventPrebuiltComponent> {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_MOUNTED)(component, props, additionalPayload);\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a prebuilt (AIO) component is opened as a modal.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Will be filtered to a known list of props.\n * @param additionalPayload - Additional data to send with the event.\n *\n * @example\n * telemetry.record(eventPrebuiltComponentOpened('GoogleOneTap', props));\n */\nexport function eventPrebuiltComponentOpened(\n  component: string,\n  props?: Record<string, any>,\n  additionalPayload?: TelemetryEventRaw['payload'],\n): TelemetryEventRaw<EventPrebuiltComponent> {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_OPENED)(component, props, additionalPayload);\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a component is mounted. Use `eventPrebuiltComponentMounted` for prebuilt components.\n *\n * **Caution:** Filter the `props` you pass to this function to avoid sending too much data.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Ideally you only pass a handful of props here.\n *\n * @example\n * telemetry.record(eventComponentMounted('SignUp', props));\n */\nexport function eventComponentMounted(\n  component: string,\n  props: TelemetryEventRaw['payload'] = {},\n): TelemetryEventRaw<EventComponentMounted> {\n  return {\n    event: EVENT_COMPONENT_MOUNTED,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload: {\n      component,\n      ...props,\n    },\n  };\n}\n", "import type { TelemetryEventRaw } from '@clerk/types';\n\nconst EVENT_METHOD_CALLED = 'METHOD_CALLED';\n\ntype EventMethodCalled = {\n  method: string;\n} & Record<string, string | number | boolean>;\n\n/**\n * Fired when a helper method is called from a Clerk SDK.\n */\nexport function eventMethodCalled(\n  method: string,\n  payload?: Record<string, unknown>,\n): TelemetryEventRaw<EventMethodCalled> {\n  return {\n    event: EVENT_METHOD_CALLED,\n    payload: {\n      method,\n      ...payload,\n    },\n  };\n}\n", "import type { TelemetryEventRaw } from '@clerk/types';\n\nconst EVENT_FRAMEWORK_METADATA = 'FRAMEWORK_METADATA';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype EventFrameworkMetadata = Record<string, string | number | boolean>;\n\n/**\n * Fired when a helper method is called from a Clerk SDK.\n */\nexport function eventFrameworkMetadata(payload: EventFrameworkMetadata): TelemetryEventRaw<EventFrameworkMetadata> {\n  return {\n    event: EVENT_FRAMEWORK_METADATA,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload,\n  };\n}\n", "import type { OrganizationMembershipResource } from '@clerk/types';\n\n/**\n * Finds the organization membership for a given organization ID from a list of memberships\n * @param organizationMemberships - Array of organization memberships to search through\n * @param organizationId - ID of the organization to find the membership for\n * @returns The matching organization membership or undefined if not found\n */\nexport function getCurrentOrganizationMembership(\n  organizationMemberships: OrganizationMembershipResource[],\n  organizationId: string,\n) {\n  return organizationMemberships.find(\n    organizationMembership => organizationMembership.organization.id === organizationId,\n  );\n}\n", "/**\n * A ES6 compatible utility that implements `Promise.allSettled`\n * @internal\n */\nexport function allSettled<T>(\n  iterable: Iterable<Promise<T>>,\n): Promise<({ status: 'fulfilled'; value: T } | { status: 'rejected'; reason: any })[]> {\n  const promises = Array.from(iterable).map(p =>\n    p.then(\n      value => ({ status: 'fulfilled', value }) as const,\n      reason => ({ status: 'rejected', reason }) as const,\n    ),\n  );\n  return Promise.all(promises);\n}\n", "import { isDevelopmentEnvironment } from './runtimeEnvironment';\n\nexport const logErrorInDevMode = (message: string) => {\n  if (isDevelopmentEnvironment()) {\n    console.error(`Clerk: ${message}`);\n  }\n};\n", "/**\n * Merges 2 objects without creating new object references\n * The merged props will appear on the `target` object\n * If `target` already has a value for a given key it will not be overwritten\n */\nexport const fastDeepMergeAndReplace = (\n  source: Record<any, any> | undefined | null,\n  target: Record<any, any> | undefined | null,\n) => {\n  if (!source || !target) {\n    return;\n  }\n\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === undefined) {\n        target[key] = new (Object.getPrototypeOf(source[key]).constructor)();\n      }\n      fastDeepMergeAndReplace(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n};\n\nexport const fastDeepMergeAndKeep = (\n  source: Record<any, any> | undefined | null,\n  target: Record<any, any> | undefined | null,\n) => {\n  if (!source || !target) {\n    return;\n  }\n\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === undefined) {\n        target[key] = new (Object.getPrototypeOf(source[key]).constructor)();\n      }\n      fastDeepMergeAndKeep(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key) && target[key] === undefined) {\n      target[key] = source[key];\n    }\n  }\n};\n", "/**\n * Checks if the window object is defined. You can also use this to check if something is happening on the client side.\n * @returns {boolean}\n */\nexport function inBrowser(): boolean {\n  return typeof window !== 'undefined';\n}\n\nconst botAgents = [\n  'bot',\n  'spider',\n  'crawl',\n  'APIs-Google',\n  'AdsBot',\n  'Googlebot',\n  'mediapartners',\n  'Google Favicon',\n  'FeedFetcher',\n  'Google-Read-Aloud',\n  'DuplexWeb-Google',\n  'googleweblight',\n  'bing',\n  'yandex',\n  'baidu',\n  'duckduck',\n  'yahoo',\n  'ecosia',\n  'ia_archiver',\n  'facebook',\n  'instagram',\n  'pinterest',\n  'reddit',\n  'slack',\n  'twitter',\n  'whatsapp',\n  'youtube',\n  'semrush',\n];\nconst botAgentRegex = new RegExp(botAgents.join('|'), 'i');\n\n/**\n * Checks if the user agent is a bot.\n * @param userAgent - Any user agent string\n * @returns {boolean}\n */\nexport function userAgentIsRobot(userAgent: string): boolean {\n  return !userAgent ? false : botAgentRegex.test(userAgent);\n}\n\n/**\n * Checks if the current environment is a browser and the user agent is not a bot.\n * @returns {boolean}\n */\nexport function isValidBrowser(): boolean {\n  const navigator = inBrowser() ? window?.navigator : null;\n  if (!navigator) {\n    return false;\n  }\n  return !userAgentIsRobot(navigator?.userAgent) && !navigator?.webdriver;\n}\n\n/**\n * Checks if the current environment is a browser and if the navigator is online.\n * @returns {boolean}\n */\nexport function isBrowserOnline(): boolean {\n  const navigator = inBrowser() ? window?.navigator : null;\n  if (!navigator) {\n    return false;\n  }\n\n  const isNavigatorOnline = navigator?.onLine;\n\n  // Being extra safe with the experimental `connection` property, as it is not defined in all browsers\n  // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/connection#browser_compatibility\n  // @ts-ignore\n  const isExperimentalConnectionOnline = navigator?.connection?.rtt !== 0 && navigator?.connection?.downlink !== 0;\n  return isExperimentalConnectionOnline && isNavigatorOnline;\n}\n\n/**\n * Runs `isBrowserOnline` and `isValidBrowser` to check if the current environment is a valid browser and if the navigator is online.\n * @returns {boolean}\n */\nexport function isValidBrowserOnline(): boolean {\n  return isBrowserOnline() && isValidBrowser();\n}\n", "import type {\n  InitialState,\n  JwtPayload,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  OrganizationResource,\n  Resources,\n  SignedInSessionResource,\n  UserResource,\n} from '@clerk/types';\n\n/**\n * Derives authentication state based on the current rendering context (SSR or client-side).\n */\nexport const deriveState = (clerkOperational: boolean, state: Resources, initialState: InitialState | undefined) => {\n  if (!clerkOperational && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\n\nconst deriveFromSsrInitialState = (initialState: InitialState) => {\n  const userId = initialState.userId;\n  const user = initialState.user as UserResource;\n  const sessionId = initialState.sessionId;\n  const sessionStatus = initialState.sessionStatus;\n  const sessionClaims = initialState.sessionClaims;\n  const session = initialState.session as SignedInSessionResource;\n  const organization = initialState.organization as OrganizationResource;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole as OrganizationCustomRoleKey;\n  const orgPermissions = initialState.orgPermissions as OrganizationCustomPermissionKey[];\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n  const factorVerificationAge = initialState.factorVerificationAge;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    sessionStatus,\n    sessionClaims,\n    organization,\n    orgId,\n    orgRole,\n    orgPermissions,\n    orgSlug,\n    actor,\n    factorVerificationAge,\n  };\n};\n\nconst deriveFromClientSideState = (state: Resources) => {\n  const userId: string | null | undefined = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId: string | null | undefined = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const sessionStatus = state.session?.status;\n  const sessionClaims: JwtPayload | null | undefined = state.session\n    ? state.session.lastActiveToken?.jwt?.claims\n    : null;\n  const factorVerificationAge: [number, number] | null = state.session ? state.session.factorVerificationAge : null;\n  const actor = session?.actor;\n  const organization = state.organization;\n  const orgId: string | null | undefined = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization?.slug;\n  const membership = organization\n    ? user?.organizationMemberships?.find(om => om.organization.id === orgId)\n    : organization;\n  const orgPermissions = membership ? membership.permissions : membership;\n  const orgRole = membership ? membership.role : membership;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    sessionStatus,\n    sessionClaims,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    actor,\n    factorVerificationAge,\n  };\n};\n", "import { setClerkJsLoadingErrorPackageName } from '@clerk/shared/loadClerkJsScript';\n\nimport { setErrorThrowerOptions } from './errors/errorThrower';\n\nexport * from './components';\nexport * from './composables';\n\nexport { clerkPlugin, type PluginOptions } from './plugin';\nexport { updateClerkOptions } from './utils';\n\nsetErrorThrowerOptions({ packageName: PACKAGE_NAME });\nsetClerkJsLoadingErrorPackageName(PACKAGE_NAME);\n", "import type { PropType } from 'vue';\nimport { defineComponent, h, onScopeDispose, ref, toRef, watchEffect } from 'vue';\n\nimport type { CustomPortalsRendererProps } from '../types';\nimport { ClerkLoaded } from './controlComponents';\n\ntype AnyObject = Record<string, any>;\n\nexport const CustomPortalsRenderer = defineComponent((props: CustomPortalsRendererProps) => {\n  return () => [...(props?.customPagesPortals ?? []), ...(props?.customMenuItemsPortals ?? [])];\n});\n;Object.defineProperty(CustomPortalsRenderer, \"props\", {\n  value: [\"customPagesPortals\",\"customMenuItemsPortals\"],\n});\n\n/**\n * Used to orchestrate mounting of Clerk components in a host Vue application.\n * Components are rendered into a specific DOM node using mount/unmount methods provided by the Clerk class.\n */\nexport const ClerkHostRenderer = defineComponent({\n  props: {\n    mount: {\n      type: Function as PropType<(node: HTMLDivElement, props: AnyObject) => void>,\n      required: false,\n    },\n    unmount: {\n      type: Function as PropType<(node: HTMLDivElement) => void>,\n      required: false,\n    },\n    open: {\n      type: Function as PropType<(props: AnyObject) => void>,\n      required: false,\n    },\n    close: {\n      type: Function as PropType<() => void>,\n      required: false,\n    },\n    updateProps: {\n      type: Function as PropType<(props: { node: HTMLDivElement; props: AnyObject | undefined }) => void>,\n      required: false,\n    },\n    props: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    const portalRef = ref<HTMLDivElement | null>(null);\n    const isPortalMounted = ref(false);\n    // Make the props reactive so the watcher can react to changes\n    const componentProps = toRef(props, 'props');\n\n    watchEffect(() => {\n      if (!portalRef.value) {\n        return;\n      }\n\n      if (isPortalMounted.value) {\n        props.updateProps?.({ node: portalRef.value, props: componentProps.value });\n      } else {\n        if (props.mount) {\n          props.mount(portalRef.value, componentProps.value);\n        }\n        if (props.open) {\n          props.open(componentProps.value);\n        }\n        isPortalMounted.value = true;\n      }\n    });\n\n    onScopeDispose(() => {\n      if (isPortalMounted.value && portalRef.value) {\n        if (props.unmount) {\n          props.unmount(portalRef.value);\n        }\n        if (props.close) {\n          props.close();\n        }\n      }\n    });\n\n    return () => h(ClerkLoaded, () => h('div', { ref: portalRef }));\n  },\n});\n", "import { deprecated } from '@clerk/shared/deprecated';\nimport type {\n  HandleOAuthCallbackParams,\n  PendingSessionOptions,\n  ProtectProps as _ProtectProps,\n  RedirectOptions,\n} from '@clerk/types';\nimport { defineComponent } from 'vue';\n\nimport { useAuth } from '../composables/useAuth';\nimport { useClerk } from '../composables/useClerk';\nimport { useClerkContext } from '../composables/useClerkContext';\nimport { useClerkLoaded } from '../utils/useClerkLoaded';\n\nexport const SignedIn = defineComponent<PendingSessionOptions>(({ treatPendingAsSignedOut }, { slots }) => {\n  const { userId } = useAuth({ treatPendingAsSignedOut });\n\n  return () => (userId.value ? slots.default?.() : null);\n});\n;Object.defineProperty(SignedIn, \"props\", {\n  value: [\"treatPendingAsSignedOut\"],\n});\n\nexport const SignedOut = defineComponent<PendingSessionOptions>(({ treatPendingAsSignedOut }, { slots }) => {\n  const { userId } = useAuth({ treatPendingAsSignedOut });\n\n  return () => (userId.value === null ? slots.default?.() : null);\n});\n;Object.defineProperty(SignedOut, \"props\", {\n  value: [\"treatPendingAsSignedOut\"],\n});\n\nexport const ClerkLoaded = defineComponent((_, { slots }) => {\n  const clerk = useClerk();\n\n  return () => (clerk.value?.loaded ? slots.default?.() : null);\n});\n\nexport const ClerkLoading = defineComponent((_, { slots }) => {\n  const clerk = useClerk();\n\n  return () => (!clerk.value?.loaded ? slots.default?.() : null);\n});\n\nexport const RedirectToSignIn = defineComponent((props: RedirectOptions) => {\n  const { sessionCtx, clientCtx } = useClerkContext();\n\n  useClerkLoaded(clerk => {\n    const hasSignedInSessions = clientCtx.value?.signedInSessions && clientCtx.value.signedInSessions.length > 0;\n\n    if (sessionCtx.value === null && hasSignedInSessions) {\n      void clerk.redirectToAfterSignOut();\n    } else {\n      void clerk.redirectToSignIn(props);\n    }\n  });\n\n  return () => null;\n});\n;Object.defineProperty(RedirectToSignIn, \"props\", {\n  value: [\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\"],\n});\n\nexport const RedirectToSignUp = defineComponent((props: RedirectOptions) => {\n  useClerkLoaded(clerk => {\n    void clerk.redirectToSignUp(props);\n  });\n\n  return () => null;\n});\n;Object.defineProperty(RedirectToSignUp, \"props\", {\n  value: [\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\"],\n});\n\n/**\n * @deprecated Use [`redirectToUserProfile()`](https://clerk.com/docs/references/javascript/clerk/redirect-methods#redirect-to-user-profile) instead.\n */\nexport const RedirectToUserProfile = defineComponent(() => {\n  useClerkLoaded(clerk => {\n    deprecated('RedirectToUserProfile', 'Use the `redirectToUserProfile()` method instead.');\n    void clerk.redirectToUserProfile();\n  });\n\n  return () => null;\n});\n\n/**\n * @deprecated Use [`redirectToOrganizationProfile()`](https://clerk.com/docs/references/javascript/clerk/redirect-methods#redirect-to-organization-profile) instead.\n */\nexport const RedirectToOrganizationProfile = defineComponent(() => {\n  useClerkLoaded(clerk => {\n    deprecated('RedirectToOrganizationProfile', 'Use the `redirectToOrganizationProfile()` method instead.');\n    void clerk.redirectToOrganizationProfile();\n  });\n\n  return () => null;\n});\n\n/**\n * @deprecated Use [`redirectToCreateOrganization()`](https://clerk.com/docs/references/javascript/clerk/redirect-methods#redirect-to-create-organization) instead.\n */\nexport const RedirectToCreateOrganization = defineComponent(() => {\n  useClerkLoaded(clerk => {\n    deprecated('RedirectToCreateOrganization', 'Use the `redirectToCreateOrganization()` method instead.');\n    void clerk.redirectToCreateOrganization();\n  });\n\n  return () => null;\n});\n\nexport const AuthenticateWithRedirectCallback = defineComponent((props: HandleOAuthCallbackParams) => {\n  useClerkLoaded(clerk => {\n    void clerk.handleRedirectCallback(props);\n  });\n\n  return () => null;\n});\n;Object.defineProperty(AuthenticateWithRedirectCallback, \"props\", {\n  value: [\"transferable\",\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\",\"signInUrl\",\"signUpUrl\",\"firstFactorUrl\",\"secondFactorUrl\",\"resetPasswordUrl\",\"continueSignUpUrl\",\"verifyEmailAddressUrl\",\"verifyPhoneNumberUrl\",\"reloadResource\"],\n});\n\nexport type ProtectProps = _ProtectProps & PendingSessionOptions;\n\nexport const Protect = defineComponent((props: ProtectProps, { slots }) => {\n  const { isLoaded, has, userId } = useAuth({ treatPendingAsSignedOut: props.treatPendingAsSignedOut });\n\n  return () => {\n    /**\n     * Avoid flickering children or fallback while clerk is loading sessionId or userId\n     */\n    if (!isLoaded.value) {\n      return null;\n    }\n\n    /**\n     * Fallback to UI provided by user or `null` if authorization checks failed\n     */\n    if (!userId.value) {\n      return slots.fallback?.();\n    }\n\n    /**\n     * Check against the results of `has` called inside the callback\n     */\n    if (typeof props.condition === 'function') {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      if (props.condition(has.value!)) {\n        return slots.default?.();\n      }\n\n      return slots.fallback?.();\n    }\n\n    if (props.role || props.permission || props.feature || props.plan) {\n      if (has.value?.(props)) {\n        return slots.default?.();\n      }\n\n      return slots.fallback?.();\n    }\n\n    /**\n     * If neither of the authorization params are passed behave as the `<SignedIn/>`.\n     * If fallback is present render that instead of rendering nothing.\n     */\n    return slots.default?.();\n  };\n});\n;Object.defineProperty(Protect, \"props\", {\n  value: [\"condition\",\"role\",\"permission\",\"feature\",\"plan\",\"treatPendingAsSignedOut\"],\n});\n", "import { createCheckAuthorization, resolveAuthState } from '@clerk/shared/authorization';\nimport type { Clerk, GetToken, JwtPayload, PendingSessionOptions, SignOut, UseAuthReturn } from '@clerk/types';\nimport { computed, type ShallowRef, watch } from 'vue';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { invalidStateError } from '../errors/messages';\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\n/**\n * @internal\n */\nfunction clerkLoaded(clerk: ShallowRef<Clerk | null>) {\n  return new Promise<Clerk>(resolve => {\n    watch(\n      clerk,\n      value => {\n        if (value?.loaded) {\n          resolve(value);\n        }\n      },\n      { immediate: true },\n    );\n  });\n}\n\n/**\n * @internal\n */\nfunction createGetToken(clerk: ShallowRef<Clerk | null>) {\n  return async (options: any) => {\n    const loadedClerk = await clerkLoaded(clerk);\n    if (!loadedClerk.session) {\n      return null;\n    }\n\n    return loadedClerk.session.getToken(options);\n  };\n}\n\n/**\n * @internal\n */\nfunction createSignOut(clerk: ShallowRef<Clerk | null>) {\n  return async (...args: any) => {\n    const loadedClerk = await clerkLoaded(clerk);\n    return loadedClerk.signOut(...args);\n  };\n}\n\ntype UseAuth = (options?: PendingSessionOptions) => ToComputedRefs<UseAuthReturn>;\n\n/**\n * Returns the current auth state, the user and session ids and the `getToken`\n * that can be used to retrieve the given template or the default Clerk token.\n *\n * Until Clerk loads, `isLoaded` will be set to `false`.\n * Once Clerk loads, `isLoaded` will be set to `true`, and you can\n * safely access the `userId` and `sessionId` variables.\n *\n * @example\n * <script setup>\n * import { useAuth } from '@clerk/vue'\n *\n * const { isSignedIn, sessionId, userId } = useAuth()\n * </script>\n *\n * <template>\n *   <div v-if=\"isSignedIn\">\n *     <!-- {{ sessionId }} {{ userId }} -->\n *     ...\n *   </div>\n * </template>\n */\nexport const useAuth: UseAuth = (options = {}) => {\n  const { clerk, authCtx, ...contextOptions } = useClerkContext();\n\n  const getToken: GetToken = createGetToken(clerk);\n  const signOut: SignOut = createSignOut(clerk);\n\n  const result = computed<UseAuthReturn>(() => {\n    const { userId, orgId, orgRole, orgPermissions, sessionClaims, factorVerificationAge } = authCtx.value;\n\n    const has = createCheckAuthorization({\n      userId,\n      orgId,\n      orgRole,\n      orgPermissions,\n      factorVerificationAge,\n      features: ((sessionClaims as JwtPayload | undefined)?.fea as string) || '',\n      plans: ((sessionClaims as JwtPayload | undefined)?.pla as string) || '',\n    });\n\n    const payload = resolveAuthState({\n      authObject: {\n        ...authCtx.value,\n        getToken,\n        signOut,\n        has,\n      },\n      options: {\n        treatPendingAsSignedOut: options.treatPendingAsSignedOut ?? contextOptions.treatPendingAsSignedOut,\n      },\n    });\n\n    if (!payload) {\n      return errorThrower.throw(invalidStateError);\n    }\n\n    return payload;\n  });\n\n  return toComputedRefs(result);\n};\n", "export const multipleChildrenInButtonComponent = (name: string) =>\n  `You've passed multiple children components to <${name}/>. You can only pass a single child component or text.`;\n\nexport const invalidStateError =\n  'Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support';\n\nexport const useAuthHasRequiresRoleOrPermission =\n  'Missing parameters. `has` from `useAuth` requires a permission or role key to be passed. Example usage: `has({permission: \"org:posts:edit\"})`';\n\nexport const userButtonMenuActionRenderedError =\n  '<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.';\n\nexport const userButtonMenuLinkRenderedError =\n  '<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.';\n\nexport const userButtonMenuItemLinkWrongProps =\n  'Missing requirements. <UserButton.Link /> component requires props: href, label and slots: labelIcon.';\n\nexport const userButtonMenuItemActionWrongProps =\n  'Missing requirements. <UserButton.Action /> component requires props: label and slots: labelIcon.';\n\nexport const userButtonMenuItemsRenderedError =\n  '<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.';\n\nexport const customPageWrongProps = (componentName: string) =>\n  `Missing requirements. <${componentName}.Page /> component requires props: url, label and slots: labelIcon and a default slot for page content`;\n\nexport const customLinkWrongProps = (componentName: string) =>\n  `Missing requirements. <${componentName}.Link /> component requires the following props: url, label and slots: labelIcon.`;\n\nexport const userProfilePageRenderedError =\n  '<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.';\nexport const userProfileLinkRenderedError =\n  '<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.';\n\nexport const organizationProfilePageRenderedError =\n  '<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.';\nexport const organizationProfileLinkRenderedError =\n  '<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.';\n", "import { h, Text, type VNode } from 'vue';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { multipleChildrenInButtonComponent } from '../errors/messages';\n\ntype ButtonName = 'SignInButton' | 'SignUpButton' | 'SignOutButton' | 'SignInWithMetamaskButton';\n\nexport const normalizeWithDefaultValue = (slotContent: VNode[] | undefined, defaultValue: string) => {\n  // Render a button with the default value if no slot content is provided\n  if (!slotContent) {\n    return h('button', defaultValue);\n  }\n\n  // Render a button with the slot content if it's a text node\n  if (slotContent[0].type === Text) {\n    return h('button', slotContent);\n  }\n\n  // Render the slot content as is\n  return slotContent;\n};\n\nexport const assertSingleChild = (slotContent: VNode | VNode[], name: ButtonName) => {\n  if (Array.isArray(slotContent)) {\n    if (slotContent.length > 1) {\n      return errorThrower.throw(multipleChildrenInButtonComponent(name));\n    }\n    return slotContent[0];\n  }\n\n  return slotContent;\n};\n", "import { computed, type ComputedRef } from 'vue';\n\nexport type ToComputedRefs<T = any> = {\n  [K in keyof T]: ComputedRef<T[K]>;\n};\n\n/**\n * Converts a computed ref to an object of computed refs.\n * This will allow the composables to be destructurable and still maintain reactivity.\n */\nexport function toComputedRefs<T extends object>(objectRef: ComputedRef<T>): ToComputedRefs<T> {\n  const result = {} as any;\n\n  for (const key in objectRef.value) {\n    result[key] = computed(() => objectRef.value[key]);\n  }\n\n  return result;\n}\n", "import type { LoadedClerk } from '@clerk/types';\nimport { watch } from 'vue';\n\nimport { useClerk } from '../composables';\n\n/**\n * Executes a callback when Clerk is loaded.\n *\n * @param callback - Function to execute once Clerk is loaded\n * @example\n * ```ts\n * useClerkLoaded((clerk) => {\n *   clerk.redirectToSignUp(props);\n * });\n * ```\n */\nexport const useClerkLoaded = (callback: (clerk: LoadedClerk) => void) => {\n  const clerk = useClerk();\n\n  watch(\n    clerk,\n    unwrappedClerk => {\n      if (!unwrappedClerk?.loaded) {\n        return;\n      }\n\n      callback(unwrappedClerk as LoadedClerk);\n    },\n    { immediate: true },\n  );\n};\n", "import type { UseUserReturn } from '@clerk/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseUser = () => ToComputedRefs<UseUserReturn>;\n\n/**\n * Returns the current user's [`User`](https://clerk.com/docs/references/javascript/user/user) object along with loading states.\n *\n * @example\n * <script setup>\n * import { useUser } from '@clerk/vue'\n *\n * const { isLoaded, isSignedIn, user } = useUser()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else-if=\"isSignedIn\">\n *     Hello {{ user.fullName }}!\n *   </div>\n *\n *   <div v-else>\n *     Not signed in\n *   </div>\n * </template>\n */\nexport const useUser: UseUser = () => {\n  const { userCtx } = useClerkContext();\n\n  const result = computed<UseUserReturn>(() => {\n    if (userCtx.value === undefined) {\n      return { isLoaded: false, isSignedIn: undefined, user: undefined };\n    }\n\n    if (userCtx.value === null) {\n      return { isLoaded: true, isSignedIn: false, user: null };\n    }\n\n    return { isLoaded: true, isSignedIn: true, user: userCtx.value };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { inject } from 'vue';\n\nimport { ClerkInjectionKey } from '../keys';\n\nexport function useClerkContext() {\n  const ctx = inject(ClerkInjectionKey);\n\n  if (!ctx) {\n    throw new Error(\n      'This component/composable can only be used when the Vue plugin is installed. Learn more: https://clerk.com/docs/quickstarts/vue',\n    );\n  }\n\n  return ctx;\n}\n", "import type { InjectionKey } from 'vue';\n\nimport type { AddCustomMenuItemParams, AddCustomPagesParams, VueClerkInjectionKeyType } from './types';\n\nexport const ClerkInjectionKey = Symbol('clerk') as InjectionKey<VueClerkInjectionKeyType>;\n\nexport const UserButtonInjectionKey = Symbol('UserButton') as InjectionKey<{\n  addCustomMenuItem(params: AddCustomMenuItemParams): void;\n}>;\n\nexport const UserButtonMenuItemsInjectionKey = Symbol('UserButton.MenuItems') as InjectionKey<{\n  addCustomMenuItem(params: AddCustomMenuItemParams): void;\n}>;\n\nexport const UserProfileInjectionKey = Symbol('UserProfile') as InjectionKey<{\n  addCustomPage(params: AddCustomPagesParams): void;\n}>;\n\nexport const OrganizationProfileInjectionKey = Symbol('OrganizationProfile') as InjectionKey<{\n  addCustomPage(params: AddCustomPagesParams): void;\n}>;\n", "import type { PendingSessionOptions, UseSessionReturn } from '@clerk/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSession = (options?: PendingSessionOptions) => ToComputedRefs<UseSessionReturn>;\n\n/**\n * Returns the current [`Session`](https://clerk.com/docs/references/javascript/session) object which provides\n * information about the active session and methods to manage it.\n *\n * @example\n * <script setup>\n * import { useSession } from '@clerk/vue'\n *\n * const { isLoaded, session, isSignedIn } = useSession()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else-if=\"!isSignedIn\">\n *     <!-- Handle not signed in state -->\n *   </div>\n *\n *   <div v-else>\n *     <p>This session has been active since {{ session.lastActiveAt.toLocaleString() }}</p>\n *   </div>\n * </template>\n */\nexport const useSession: UseSession = (options = {}) => {\n  const { sessionCtx, ...clerkContext } = useClerkContext();\n\n  const result = computed<UseSessionReturn>(() => {\n    if (sessionCtx.value === undefined) {\n      return { isLoaded: false, isSignedIn: undefined, session: undefined };\n    }\n\n    const pendingAsSignedOut =\n      sessionCtx.value?.status === 'pending' &&\n      (options.treatPendingAsSignedOut ?? clerkContext.treatPendingAsSignedOut);\n    const isSignedOut = sessionCtx.value === null || pendingAsSignedOut;\n    if (isSignedOut) {\n      return { isLoaded: true, isSignedIn: false, session: null };\n    }\n\n    return { isLoaded: true, isSignedIn: true, session: sessionCtx.value };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { useClerkContext } from './useClerkContext';\n\n/**\n * Returns the [`Clerk`](https://clerk.com/docs/references/javascript/clerk/clerk) instance which provides\n * low-level access to Clerk's functionality, enabling custom authentication UI and flows.\n *\n * @example\n * <script setup>\n * import { useClerk } from '@clerk/vue'\n *\n * const clerk = useClerk()\n *\n * const openSignIn = () => clerk.value.openSignIn()\n * </script>\n *\n * <template>\n *   <button @click=\"openSignIn\">Sign in</button>\n * </template>\n */\nexport const useClerk = () => {\n  const { clerk } = useClerkContext();\n\n  return clerk;\n};\n", "import { eventMethodCalled } from '@clerk/shared/telemetry';\nimport type { UseSignInReturn } from '@clerk/types';\nimport { computed, watch } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSignIn = () => ToComputedRefs<UseSignInReturn>;\n\n/**\n * Returns the current [`SignIn`](https://clerk.com/docs/references/javascript/sign-in) object which provides\n * methods and state for managing the sign-in flow.\n *\n * @example\n * <script setup>\n * import { useSignIn } from '@clerk/vue'\n *\n * const { isLoaded, signIn } = useSignIn()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else>\n *     The current sign in attempt status is {{ signIn.status }}.\n *   </div>\n * </template>\n */\nexport const useSignIn: UseSignIn = () => {\n  const { clerk, clientCtx } = useClerkContext();\n\n  const unwatch = watch(clerk, value => {\n    if (value) {\n      value.telemetry?.record(eventMethodCalled('useSignIn'));\n      unwatch();\n    }\n  });\n\n  const result = computed<UseSignInReturn>(() => {\n    if (!clerk.value || !clientCtx.value) {\n      return { isLoaded: false, signIn: undefined, setActive: undefined };\n    }\n\n    return {\n      isLoaded: true,\n      signIn: clientCtx.value.signIn,\n      setActive: clerk.value.setActive,\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { eventMethodCalled } from '@clerk/shared/telemetry';\nimport type { UseSignUpReturn } from '@clerk/types';\nimport { computed, watch } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSignUp = () => ToComputedRefs<UseSignUpReturn>;\n\n/**\n * Returns the current [`SignUp`](https://clerk.com/docs/references/javascript/sign-up) object which provides\n * methods and state for managing the sign-up flow.\n *\n * @example\n * <script setup>\n * import { useSignUp } from '@clerk/vue'\n *\n * const { isLoaded, signUp } = useSignUp()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else>\n *     The current sign-up attempt status is {{ signUp.status }}.\n *   </div>\n * </template>\n */\nexport const useSignUp: UseSignUp = () => {\n  const { clerk, clientCtx } = useClerkContext();\n\n  const unwatch = watch(clerk, value => {\n    if (value) {\n      value.telemetry?.record(eventMethodCalled('useSignUp'));\n      unwatch();\n    }\n  });\n\n  const result = computed<UseSignUpReturn>(() => {\n    if (!clerk.value || !clientCtx.value) {\n      return { isLoaded: false, signUp: undefined, setActive: undefined };\n    }\n\n    return {\n      isLoaded: true,\n      signUp: clientCtx.value.signUp,\n      setActive: clerk.value.setActive,\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import type { UseSessionListReturn } from '@clerk/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSessionList = () => ToComputedRefs<UseSessionListReturn>;\n\n/**\n * Returns an array of [`Session`](https://clerk.com/docs/references/javascript/session) objects that have been\n * registered on the client device.\n *\n * @example\n * <script setup>\n * import { useSessionList } from '@clerk/vue'\n *\n * const { isLoaded, sessions } = useSessionList()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else>\n *     <p>\n *       Welcome back. You have been here\n *       {{ sessions.length }} times before.\n *     </p>\n *   </div>\n * </template>\n */\nexport const useSessionList: UseSessionList = () => {\n  const { clerk, clientCtx } = useClerkContext();\n\n  const result = computed<UseSessionListReturn>(() => {\n    if (!clientCtx.value) {\n      return { isLoaded: false, sessions: undefined, setActive: undefined };\n    }\n\n    return {\n      isLoaded: true,\n      sessions: clientCtx.value.sessions,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      setActive: clerk.value!.setActive,\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { getCurrentOrganizationMembership } from '@clerk/shared/organization';\nimport type { OrganizationMembershipResource, OrganizationResource } from '@clerk/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\nimport { useSession } from './useSession';\n\ntype UseOrganizationReturn =\n  | {\n      isLoaded: false;\n      organization: undefined;\n      membership: undefined;\n    }\n  | {\n      isLoaded: true;\n      organization: OrganizationResource;\n      membership: undefined;\n    }\n  | {\n      isLoaded: boolean;\n      organization: OrganizationResource | null;\n      membership: OrganizationMembershipResource | null | undefined;\n    };\n\ntype UseOrganization = () => ToComputedRefs<UseOrganizationReturn>;\n\n/**\n * Returns the current [`Organization`](https://clerk.com/docs/references/javascript/organization/organization) object\n * along with loading states and membership information.\n *\n * @example\n * <script setup>\n * import { useOrganization } from '@clerk/vue'\n *\n * const { isLoaded, organization, membership } = useOrganization()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else-if=\"organization\">\n *     <h1>{{ organization.name }}</h1>\n *     <p>Your role: {{ membership.role }}</p>\n *   </div>\n *\n *   <div v-else>\n *     No active organization\n *   </div>\n * </template>\n */\nexport const useOrganization: UseOrganization = () => {\n  const { clerk, organizationCtx } = useClerkContext();\n  const { session } = useSession();\n\n  const result = computed<UseOrganizationReturn>(() => {\n    if (organizationCtx.value === undefined) {\n      return { isLoaded: false, organization: undefined, membership: undefined };\n    }\n\n    if (organizationCtx.value === null) {\n      return { isLoaded: true, organization: null, membership: null };\n    }\n\n    /** In SSR context we include only the organization object when loadOrg is set to true. */\n    if (!clerk.value?.loaded) {\n      return {\n        isLoaded: true,\n        organization: organizationCtx.value,\n        membership: undefined,\n      };\n    }\n\n    return {\n      isLoaded: clerk.value.loaded,\n      organization: organizationCtx.value,\n      membership: getCurrentOrganizationMembership(\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        session.value!.user.organizationMemberships,\n        organizationCtx.value.id,\n      ),\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import type { ClerkOptions } from '@clerk/types';\n\ntype ClerkUpdateOptions = Pick<ClerkOptions, 'appearance' | 'localization'>;\n\n/**\n * Updates Clerk's options at runtime.\n *\n * @param options - The Clerk options to update\n *\n * @example\n * import { frFR } from '@clerk/localizations';\n * import { dark } from '@clerk/themes';\n *\n * updateClerkOptions({\n *   appearance: { baseTheme: dark },\n *   localization: frFR\n * });\n */\nexport function updateClerkOptions(options: ClerkUpdateOptions) {\n  if (!window.Clerk) {\n    throw new Error('Missing Clerk instance');\n  }\n\n  // @ts-expect-error - `__unstable__updateProps` is not exposed as public API from `@clerk/types`\n  void window.Clerk.__unstable__updateProps({\n    options: {\n      localization: options.localization,\n    },\n    appearance: options.appearance,\n  });\n}\n", "\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n", "import { defineComponent, inject } from 'vue';\n\nimport { errorThrower } from '../../../errors/errorThrower';\nimport { userProfileLinkRenderedError, userProfilePageRenderedError } from '../../../errors/messages';\nimport { UserProfileInjectionKey } from '../../../keys';\nimport type { UserProfileLinkProps, UserProfilePageProps } from '../../../types';\nimport _UserProfile from './UserProfile.vue';\n\nexport const UserProfilePage = defineComponent(\n  (props: UserProfilePageProps, { slots }) => {\n    const ctx = inject(UserProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userProfilePageRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: UserProfilePage,\n    });\n\n    return () => null;\n  },\n  { name: 'UserProfilePage' },\n);\n;Object.defineProperty(UserProfilePage, \"props\", {\n  value: [\"label\",\"url\"],\n});\n\nexport const UserProfileLink = defineComponent(\n  (props: UserProfileLinkProps, { slots }) => {\n    const ctx = inject(UserProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userProfileLinkRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: UserProfileLink,\n    });\n\n    return () => null;\n  },\n  { name: 'UserProfileLink' },\n);\n;Object.defineProperty(UserProfileLink, \"props\", {\n  value: [\"url\",\"label\"],\n});\n\nexport const UserProfile = Object.assign(_UserProfile, {\n  Page: UserProfilePage,\n  Link: UserProfileLink,\n});\n", "import { logErrorInDevMode } from '@clerk/shared/utils';\nimport type { CustomPage } from '@clerk/types';\nimport type { Component } from 'vue';\nimport { ref } from 'vue';\n\nimport { OrganizationProfileLink, OrganizationProfilePage } from '../components/ui-components/OrganizationProfile';\nimport { UserProfileLink, UserProfilePage } from '../components/ui-components/UserProfile';\nimport { customLinkWrongProps, customPageWrongProps } from '../errors/messages';\nimport type { AddCustomPagesParams } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserProfileCustomPages = () => {\n  const { customPages, customPagesPortals, addCustomPage } = useCustomPages({\n    reorderItemsLabels: ['account', 'security'],\n    PageComponent: UserProfilePage,\n    LinkComponent: UserProfileLink,\n    componentName: 'UserProfile',\n  });\n\n  const addUserProfileCustomPage = (params: AddCustomPagesParams) => {\n    return addCustomPage(params);\n  };\n\n  return {\n    customPages,\n    customPagesPortals,\n    addCustomPage: addUserProfileCustomPage,\n  };\n};\n\nexport const useOrganizationProfileCustomPages = () => {\n  const { customPages, customPagesPortals, addCustomPage } = useCustomPages({\n    reorderItemsLabels: ['general', 'members'],\n    PageComponent: OrganizationProfilePage,\n    LinkComponent: OrganizationProfileLink,\n    componentName: 'OrganizationProfile',\n  });\n\n  const addOrganizationProfileCustomPage = (params: AddCustomPagesParams) => {\n    return addCustomPage(params);\n  };\n\n  return {\n    customPages,\n    customPagesPortals,\n    addCustomPage: addOrganizationProfileCustomPage,\n  };\n};\n\ntype UseCustomPagesParams = {\n  LinkComponent: Component;\n  PageComponent: Component;\n  reorderItemsLabels: string[];\n  componentName: string;\n};\n\nexport const useCustomPages = (customPagesParams: UseCustomPagesParams) => {\n  const customPages = ref<CustomPage[]>([]);\n  const { portals: customPagesPortals, mount, unmount } = useCustomElementPortal();\n  const { PageComponent, LinkComponent, reorderItemsLabels, componentName } = customPagesParams;\n\n  const addCustomPage = (params: AddCustomPagesParams) => {\n    const { props, slots, component } = params;\n    const { label, url } = props;\n\n    if (isThatComponent(component, PageComponent)) {\n      if (isReorderItem(props, slots, reorderItemsLabels)) {\n        // This is a reordering item\n        customPages.value.push({ label });\n      } else if (isCustomPage(props, slots)) {\n        // This is a custom page\n        customPages.value.push({\n          label,\n          url,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n          mount(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.default!);\n          },\n          unmount,\n        });\n      } else {\n        logErrorInDevMode(customPageWrongProps(componentName));\n        return;\n      }\n    }\n\n    if (isThatComponent(component, LinkComponent)) {\n      if (isExternalLink(props, slots)) {\n        // This is an external link\n        customPages.value.push({\n          label,\n          url,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n        });\n      } else {\n        logErrorInDevMode(customLinkWrongProps(componentName));\n        return;\n      }\n    }\n  };\n\n  return {\n    customPages,\n    customPagesPortals,\n    addCustomPage,\n  };\n};\n\nconst isReorderItem = (props: any, slots: AddCustomPagesParams['slots'], validItems: string[]): boolean => {\n  const { label, url } = props;\n  const { default: defaultSlot, labelIcon } = slots;\n  return !defaultSlot && !url && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomPage = (props: any, slots: AddCustomPagesParams['slots']): boolean => {\n  const { label, url } = props;\n  const { default: defaultSlot, labelIcon } = slots;\n  return !!defaultSlot && !!url && !!labelIcon && !!label;\n};\n\nconst isExternalLink = (props: any, slots: AddCustomPagesParams['slots']): boolean => {\n  const { label, url } = props;\n  const { default: defaultSlot, labelIcon } = slots;\n  return !defaultSlot && !!url && !!labelIcon && !!label;\n};\n", "import { defineComponent, inject } from 'vue';\n\nimport { errorThrower } from '../../../errors/errorThrower';\nimport { organizationProfileLinkRenderedError, organizationProfilePageRenderedError } from '../../../errors/messages';\nimport { OrganizationProfileInjectionKey } from '../../../keys';\nimport type { OrganizationLinkProps, OrganizationProfilePageProps } from '../../../types';\nimport _OrganizationProfile from './OrganizationProfile.vue';\n\nexport const OrganizationProfilePage = defineComponent(\n  (props: OrganizationProfilePageProps, { slots }) => {\n    const ctx = inject(OrganizationProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(organizationProfilePageRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: OrganizationProfilePage,\n    });\n\n    return () => null;\n  },\n  { name: 'OrganizationProfilePage' },\n);\n;Object.defineProperty(OrganizationProfilePage, \"props\", {\n  value: [\"label\",\"url\"],\n});\n\nexport const OrganizationProfileLink = defineComponent(\n  (props: OrganizationLinkProps, { slots }) => {\n    const ctx = inject(OrganizationProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(organizationProfileLinkRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: OrganizationProfileLink,\n    });\n\n    return () => null;\n  },\n  { name: 'OrganizationProfileLink' },\n);\n;Object.defineProperty(OrganizationProfileLink, \"props\", {\n  value: [\"url\",\"label\"],\n});\n\nexport const OrganizationProfile = Object.assign(_OrganizationProfile, {\n  Page: OrganizationProfilePage,\n  Link: OrganizationProfileLink,\n});\n", "<script setup lang=\"ts\">\nimport { computed, provide } from 'vue';\nimport { useOrganizationProfileCustomPages } from '../../../utils/useCustomPages';\nimport { useClerk } from '../../../composables';\nimport type { OrganizationProfileProps } from '@clerk/types';\nimport { OrganizationProfileInjectionKey } from '../../../keys';\nimport { ClerkHostRenderer, CustomPortalsRenderer } from '../../ClerkHostRenderer';\n\ntype Props = Omit<OrganizationProfileProps, 'customPages'>;\nconst props = defineProps<Props>();\n\nconst clerk = useClerk();\n\nconst { customPages, customPagesPortals, addCustomPage } = useOrganizationProfileCustomPages();\n\nconst finalProps = computed(() => ({\n  ...props,\n  customPages: customPages.value,\n}));\n\nprovide(OrganizationProfileInjectionKey, {\n  addCustomPage,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountOrganizationProfile\"\n    :unmount=\"clerk?.unmountOrganizationProfile\"\n    :props=\"finalProps\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n  />\n  <CustomPortalsRenderer :custom-pages-portals=\"customPagesPortals\" />\n  <slot />\n</template>\n", "import { type Component } from 'vue';\n\nexport const isThatComponent = (v: any, component: Component): v is Component => {\n  return !!v && isRenderFunction(v) && v.name === component.name;\n};\n\nconst isRenderFunction = (v: any): v is Component => {\n  return 'name' in v && 'setup' in v;\n};\n", "import type { Slot } from 'vue';\nimport { computed, h, ref, Teleport } from 'vue';\n\ninterface RawPortal {\n  id: string;\n  el: HTMLDivElement;\n  slot: Slot;\n}\n\nfunction generateElementIdentifier() {\n  return Math.random().toString(36).substring(2, 7);\n}\n\nexport const useCustomElementPortal = () => {\n  const rawPortals = ref<RawPortal[]>([]);\n  const portals = computed(() => {\n    return rawPortals.value.map(item => {\n      return h(Teleport, { to: item.el }, item.slot());\n    });\n  });\n\n  const mount = (el: HTMLDivElement, slot: Slot) => {\n    const id = generateElementIdentifier();\n    el.setAttribute('data-clerk-mount-id', id);\n    rawPortals.value.push({\n      id,\n      el,\n      slot,\n    });\n  };\n\n  const unmount = (el: HTMLDivElement | undefined) => {\n    const id = el?.getAttribute('data-clerk-mount-id');\n    if (id) {\n      const index = rawPortals.value.findIndex(portal => portal.id === id);\n      if (index !== -1) {\n        rawPortals.value.splice(index, 1);\n      }\n    }\n  };\n\n  return {\n    portals,\n    mount,\n    unmount,\n  };\n};\n", "import { OrganizationProfileLink, OrganizationProfilePage } from '../OrganizationProfile';\nimport _OrganizationSwitcher from './OrganizationSwitcher.vue';\n\nexport const OrganizationSwitcher = Object.assign(_OrganizationSwitcher, {\n  OrganizationProfilePage,\n  OrganizationProfileLink,\n});\n", "import { defineComponent, inject, provide } from 'vue';\n\nimport { errorThrower } from '../../../errors/errorThrower';\nimport {\n  userButtonMenuActionRenderedError,\n  userButtonMenuItemsRenderedError,\n  userButtonMenuLinkRenderedError,\n} from '../../../errors/messages';\nimport { UserButtonInjectionKey, UserButtonMenuItemsInjectionKey } from '../../../keys';\nimport type { UserButtonActionProps, UserButtonLinkProps } from '../../../types';\nimport { UserProfileLink, UserProfilePage } from '../UserProfile';\nimport _UserButton from './UserButton.vue';\n\nconst MenuItems = defineComponent((_, { slots }) => {\n  const ctx = inject(UserButtonInjectionKey);\n\n  if (!ctx) {\n    return errorThrower.throw(userButtonMenuItemsRenderedError);\n  }\n\n  provide(UserButtonMenuItemsInjectionKey, ctx);\n  return () => slots.default?.();\n});\n\nexport const MenuAction = defineComponent(\n  (props: UserButtonActionProps, { slots }) => {\n    const ctx = inject(UserButtonMenuItemsInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userButtonMenuActionRenderedError);\n    }\n\n    ctx.addCustomMenuItem({\n      props,\n      slots,\n      component: MenuAction,\n    });\n\n    return () => null;\n  },\n  { name: 'MenuAction' },\n);\n;Object.defineProperty(MenuAction, \"props\", {\n  value: [\"label\",\"onClick\",\"open\"],\n});\n\nexport const MenuLink = defineComponent(\n  (props: UserButtonLinkProps, { slots }) => {\n    const ctx = inject(UserButtonMenuItemsInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userButtonMenuLinkRenderedError);\n    }\n\n    ctx.addCustomMenuItem({\n      props,\n      slots,\n      component: MenuLink,\n    });\n\n    return () => null;\n  },\n  { name: 'MenuLink' },\n);\n;Object.defineProperty(MenuLink, \"props\", {\n  value: [\"href\",\"label\"],\n});\n\nexport const UserButton = Object.assign(_UserButton, {\n  MenuItems,\n  Action: MenuAction,\n  Link: MenuLink,\n  UserProfilePage,\n  UserProfileLink,\n});\n", "import { logErrorInDevMode } from '@clerk/shared/utils';\nimport type { CustomMenuItem } from '@clerk/types';\nimport { ref } from 'vue';\n\nimport { MenuAction, MenuLink } from '../components/ui-components/UserButton';\nimport { userButtonMenuItemActionWrongProps, userButtonMenuItemLinkWrongProps } from '../errors/messages';\nimport type { AddCustomMenuItemParams, UserButtonActionProps, UserButtonLinkProps } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserButtonCustomMenuItems = () => {\n  const customMenuItems = ref<CustomMenuItem[]>([]);\n  const { portals: customMenuItemsPortals, mount, unmount } = useCustomElementPortal();\n  const reorderItemsLabels = ['manageAccount', 'signOut'];\n\n  function addCustomMenuItem(params: AddCustomMenuItemParams) {\n    const { props, component, slots } = params;\n    const { label, onClick, open, href } = props;\n\n    if (isThatComponent(component, MenuAction)) {\n      if (isReorderItem(props, slots, reorderItemsLabels)) {\n        // This is a reordering item\n        customMenuItems.value.push({ label });\n      } else if (isCustomMenuItem(props, slots)) {\n        const baseItem: CustomMenuItem = {\n          label,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n        };\n\n        if (onClick !== undefined) {\n          customMenuItems.value.push({\n            ...baseItem,\n            onClick,\n            open,\n          });\n        } else if (open !== undefined) {\n          customMenuItems.value.push({\n            ...baseItem,\n            open: open.startsWith('/') ? open : `/${open}`,\n          });\n        } else {\n          // Handle the case where neither onClick nor open is defined\n          logErrorInDevMode('Custom menu item must have either onClick or open property');\n          return;\n        }\n      } else {\n        logErrorInDevMode(userButtonMenuItemActionWrongProps);\n        return;\n      }\n    }\n\n    if (isThatComponent(component, MenuLink)) {\n      if (isExternalLink(props, slots)) {\n        customMenuItems.value.push({\n          label,\n          href,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n        });\n      } else {\n        logErrorInDevMode(userButtonMenuItemLinkWrongProps);\n        return;\n      }\n    }\n  }\n\n  return {\n    customMenuItems,\n    customMenuItemsPortals,\n    addCustomMenuItem,\n  };\n};\n\nconst isReorderItem = (props: any, slots: AddCustomMenuItemParams['slots'], validItems: string[]): boolean => {\n  const { label, onClick } = props;\n  const { labelIcon } = slots;\n  return !onClick && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomMenuItem = (props: any, slots: AddCustomMenuItemParams['slots']): props is UserButtonActionProps => {\n  const { label, onClick, open } = props;\n  const { labelIcon } = slots;\n  return !!labelIcon && !!label && (typeof onClick === 'function' || typeof open === 'string');\n};\n\nconst isExternalLink = (props: any, slots: AddCustomMenuItemParams['slots']): props is UserButtonLinkProps => {\n  const { label, href } = props;\n  const { labelIcon } = slots;\n  return !!href && !!labelIcon && !!label;\n};\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { SignInButtonProps } from '@clerk/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\nconst props = defineProps<SignInButtonProps>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign in');\n  return assertSingleChild(children, 'SignInButton');\n}\n\nfunction clickHandler() {\n  const { mode, ...opts } = props;\n\n  if (mode === 'modal') {\n    return clerk.value?.openSignIn({ ...opts, appearance: props.appearance });\n  }\n\n  const { withSignUp, ...redirectOpts } = opts;\n\n  void clerk.value?.redirectToSignIn({\n    ...redirectOpts,\n    signInFallbackRedirectUrl: props.fallbackRedirectUrl,\n    signInForceRedirectUrl: props.forceRedirectUrl,\n  });\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { SignUpButtonProps } from '@clerk/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\nconst props = defineProps<SignUpButtonProps>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign up');\n  return assertSingleChild(children, 'SignUpButton');\n}\n\nfunction clickHandler() {\n  const { mode, ...opts } = props;\n\n  if (mode === 'modal') {\n    return clerk.value?.openSignUp({ ...opts, appearance: props.appearance });\n  }\n\n  void clerk.value?.redirectToSignUp({\n    ...opts,\n    signUpFallbackRedirectUrl: props.fallbackRedirectUrl,\n    signUpForceRedirectUrl: props.forceRedirectUrl,\n  });\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { SignOutOptions } from '@clerk/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\ninterface SignOutButtonProps {\n  signOutOptions?: SignOutOptions;\n  sessionId?: string;\n  redirectUrl?: string;\n}\n\nconst props = defineProps<SignOutButtonProps>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign out');\n  return assertSingleChild(children, 'SignOutButton');\n}\n\nfunction clickHandler() {\n  const signOutOptions: SignOutOptions = {\n    redirectUrl: props.signOutOptions?.redirectUrl ?? props.redirectUrl,\n    sessionId: props.signOutOptions?.sessionId ?? props.sessionId,\n  };\n  void clerk.value?.signOut(signOutOptions);\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { RedirectUrlProp } from '@clerk/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\ntype Props = RedirectUrlProp & {\n  mode?: 'modal' | 'redirect';\n};\n\nconst props = defineProps<Props>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign in with Metamask');\n  return assertSingleChild(children, 'SignInWithMetamaskButton');\n}\n\nfunction clickHandler() {\n  void clerk.value?.authenticateWithMetamask({ redirectUrl: props.redirectUrl || undefined });\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "import { inBrowser } from '@clerk/shared/browser';\nimport { deriveState } from '@clerk/shared/deriveState';\nimport { loadClerkJsScript, type LoadClerkJsScriptOptions } from '@clerk/shared/loadClerkJsScript';\nimport type { Clerk, ClientResource, InitialState, MultiDomainAndOrProxy, Resources, Without } from '@clerk/types';\nimport type { Plugin } from 'vue';\nimport { computed, ref, shallowRef, triggerRef } from 'vue';\n\nimport { ClerkInjectionKey } from './keys';\n\nexport type PluginOptions = Without<LoadClerkJsScriptOptions, 'domain' | 'proxyUrl'> &\n  MultiDomainAndOrProxy & {\n    initialState?: InitialState;\n  };\n\nconst SDK_METADATA = {\n  name: PACKAGE_NAME,\n  version: PACKAGE_VERSION,\n  environment: process.env.NODE_ENV,\n};\n\n/**\n * Vue plugin for integrating Clerk.\n *\n * @example\n * ```ts\n * import { createApp } from 'vue'\n * import { clerkPlugin } from '@clerk/vue'\n * import App from './App.vue'\n *\n * const app = createApp(App)\n *\n * app.use(clerkPlugin, {\n *   publishableKey: 'pk_'\n * })\n *\n * app.mount('#app')\n * ```\n */\nexport const clerkPlugin: Plugin<[PluginOptions]> = {\n  install(app, pluginOptions) {\n    const { initialState } = pluginOptions;\n\n    const loaded = shallowRef(false);\n    const clerk = shallowRef<Clerk | null>(null);\n\n    const resources = ref<Resources>({\n      client: undefined as unknown as ClientResource,\n      session: undefined,\n      user: undefined,\n      organization: undefined,\n    });\n\n    const options = {\n      ...pluginOptions,\n      sdkMetadata: pluginOptions.sdkMetadata || SDK_METADATA,\n    } as LoadClerkJsScriptOptions;\n\n    // We need this check for SSR apps like Nuxt as it will try to run this code on the server\n    // and loadClerkJsScript contains browser-specific code\n    if (inBrowser()) {\n      void loadClerkJsScript(options).then(async () => {\n        if (!window.Clerk) {\n          throw new Error('Failed to download latest ClerkJS. Contact support@clerk.com.');\n        }\n\n        clerk.value = window.Clerk;\n        await window.Clerk.load(options);\n        loaded.value = true;\n\n        clerk.value.addListener(payload => {\n          resources.value = payload;\n        });\n\n        // When Clerk updates its state internally, Vue's reactivity system doesn't detect\n        // the change since it's an external object being mutated. triggerRef() forces Vue\n        // to re-evaluate all dependencies regardless of how the value was changed.\n        triggerRef(clerk);\n      });\n    }\n\n    const derivedState = computed(() => deriveState(loaded.value, resources.value, initialState));\n\n    const authCtx = computed(() => {\n      const {\n        sessionId,\n        userId,\n        orgId,\n        actor,\n        orgRole,\n        orgSlug,\n        orgPermissions,\n        sessionStatus,\n        sessionClaims,\n        factorVerificationAge,\n      } = derivedState.value;\n      return {\n        sessionId,\n        userId,\n        actor,\n        orgId,\n        orgRole,\n        orgSlug,\n        orgPermissions,\n        sessionStatus,\n        sessionClaims,\n        factorVerificationAge,\n      };\n    });\n    const clientCtx = computed(() => resources.value.client);\n    const userCtx = computed(() => derivedState.value.user);\n    const sessionCtx = computed(() => derivedState.value.session);\n    const organizationCtx = computed(() => derivedState.value.organization);\n\n    app.provide(ClerkInjectionKey, {\n      clerk,\n      authCtx,\n      clientCtx,\n      sessionCtx,\n      userCtx,\n      organizationCtx,\n      treatPendingAsSignedOut:\n        options.treatPendingAsSignedOut ?? clerk.value?.__internal_getOption?.('treatPendingAsSignedOut'),\n    });\n  },\n};\n"],
  "mappings": "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",
  "names": ["packageName", "customMessages", "errorThrower", "config", "computed", "watch", "eventMethodCalled", "defineComponent", "h", "_createBlock", "inject", "ref", "provide", "_createVNode", "_renderSlot", "isReorderItem", "logErrorInDevMode", "isExternalLink", "useSlots", "useAttrs", "_resolveDynamicComponent", "_mergeProps", "_withCtx"]
}
